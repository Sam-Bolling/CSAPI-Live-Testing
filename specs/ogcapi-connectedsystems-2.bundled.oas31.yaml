openapi: 3.1.0
info:
  title: 'OGC API - Connected Systems - Part 2: Dynamic Data'
  version: 0.0.1
  description: Example OpenAPI specification for part 2 of [OGC API - Connected Systems](https://github.com/opengeospatial/connected_systems).
  contact:
    name: OGC API Support
    url: https://www.ogc.org/contact
    email: info@ogc.org
  license:
    name: OGC License
    url: https://www.ogc.org/ogc/Document
  x-logo:
    url: https://www.ogc.org/wp-content/uploads/2023/03/OGC-1.svg
    backgroundColor: '#FFFFFF'
    altText: OGC logo
    href: https://www.ogc.org
servers:
  - url: https://api.georobotix.io/ogc/t18/api
    description: OGC Testbed Demo Server
  - url: http://localhost:8181/sensorhub/api
    description: Local test server
tags:
  - name: Data Streams
    description: |-
      Datastreams allow access to observations produced by systems, in various formats.
      They also provide metadata describing the exact meaning of properties included in the observations.

      API clients can act both as sender of receiver of observations.
  - name: Observations
    description: Access to historical and real-time observations.
  - name: Control Streams
    description: |-
      Control channels (or control streams) allow sending commands to systems, in various formats.
      They also provide metadata describing the exact meaning and content of command messages.

      API clients can act both as sender or receiver of commands.
  - name: Commands
    description: Access to historical and real-time commands.
  - name: System Events
    description: System events are used to notify users of changes to one or more systems.
  - name: System History
    description: Advanced access to historical system descriptions.
paths:
  /datastreams:
    get:
      summary: List all available datastreams
      description: List or search all datastreams available from this server endpoint.
      tags:
        - Data Streams
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: &ref_68
            description: List of resource local IDs or unique identifiers (URIs).
            oneOf: &ref_10
              - type: array
                title: Local IDs
                minItems: 1
                items:
                  type: string
                  minLength: 1
              - type: array
                title: Unique IDs
                minItems: 1
                items:
                  type: string
                  format: uri
          explode: false
          examples: &ref_69
            id:
              summary: Local IDs
              value: RES_ID1,RES_ID2,RES_ID63
            uri:
              summary: Unique IDs
              value: urn:example:resource:001,urn:example:resource:033
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: &ref_49
            type: array
            items:
              type: string
              minLength: 1
              maxLength: 50
          explode: false
          examples: &ref_50
            case1:
              summary: One keyword
              value: temp
            case2:
              summary: Several keywords
              value: gps,imu
        - name: phenomenonTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `phenomenonTime` property that intersects the value of the
            `phenomenonTime` parameter are selected.
          required: false
          schema: &ref_45
            oneOf: &ref_0
              - title: Time Instant
                description: |-
                  ISO 8601 encoded time instant or special value.
                  Examples:
                    * A time instant: "2020-02-12T23:20:50Z" or "2020-01-15Z"
                    * Special indeterminate value: "now", "latest"
                oneOf:
                  - title: ISO Date
                    type: string
                    format: date
                  - title: ISO Date/Time
                    type: string
                    format: date-time
                  - title: Special Value
                    type: string
                    enum:
                      - now
                      - latest
              - title: Time Period
                description: |-
                  ISO 8601 encoded time period that can include special values.
                  Examples:
                    * A closed interval: "2020-02-12T00:00:00Z/2020-03-18T12:31:12Z" or "2020-01-15Z/2020-02-16Z"
                    * An open interval: "2020-02-12T00:00:00Z/.." or "../2020-03-18T12:31:12Z"
                    * An interval with indeterminate value: "2020-02-12T00:00:00Z/now", "2020-02-12T00:00:00Z/latest" or "now/.."
                type: array
                minItems: 2
                maxItems: 2
                items:
                  oneOf:
                    - title: ISO Date
                      type: string
                      format: date
                    - title: ISO Date/Time
                      type: string
                      format: date-time
                    - title: Special Value
                      type: string
                      enum:
                        - now
                        - latest
          style: form
          explode: false
          examples: &ref_46
            instant: &ref_1
              summary: Time instant
              value: '2018-02-12T23:20:50Z'
            now: &ref_2
              summary: Current time
              value: now
            period: &ref_3
              summary: Bounded interval
              value: 2018-02-12T00:00:00Z/2018-03-18T12:31:12Z
            period2: &ref_4
              summary: Half-bounded interval
              value: 2018-02-12T00:00:00Z/..
            period3: &ref_5
              summary: From date/time to now
              value: 2018-02-12T00:00:00Z/now
            period4: &ref_6
              summary: From now to date/time
              value: now/2018-02-12T00:00:00Z
            period5: &ref_7
              summary: Anything up to now
              value: ../now
            period6: &ref_8
              summary: Anything from now on
              value: now/..
            latest: &ref_9
              summary: Latest
              value: latest
        - name: resultTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `resultTime` property that intersects the value of the
            `resultTime` parameter are selected.
          required: false
          schema: &ref_47
            oneOf: *ref_0
          style: form
          explode: false
          examples: &ref_48
            instant: *ref_1
            now: *ref_2
            period: *ref_3
            period2: *ref_4
            period3: *ref_5
            period4: *ref_6
            period5: *ref_7
            period6: *ref_8
            latest: *ref_9
        - name: system
          description: |-
            List of system local IDs or unique IDs (URI).
            Only resources that are associated to a System that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: &ref_70
            description: List of resource local IDs or unique identifiers (URIs).
            oneOf: *ref_10
          explode: false
        - name: foi
          description: |-
            List of feature local IDs or unique IDs (URI).
            Only resources that are associated to a feature of interest that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: &ref_71
            description: List of resource local IDs or unique identifiers (URIs).
            oneOf: *ref_10
          explode: false
        - name: observedProperty
          description: |-
            List of property local IDs or unique IDs (URI).
            Only resources that are associated to an observable property that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: &ref_72
            description: List of resource local IDs or unique identifiers (URIs).
            oneOf: *ref_10
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: &ref_51
            type: integer
            minimum: 1
            maximum: 10000
            default: 10
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_52
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_218
                  items:
                    type: array
                    items:
                      $schema: https://json-schema.org/draft/2020-12/schema
                      allOf: &ref_53
                        - $schema: https://json-schema.org/draft/2020-12/schema
                          type: object
                          properties: &ref_79
                            id:
                              description: Local resource ID. If set on creation, the server may ignore it.
                              type: string
                              minLength: 1
                              readOnly: true
                            name:
                              description: Human readable name of the resource
                              type: string
                              minLength: 1
                            description:
                              description: Human readable description of the resource
                              type: string
                              minLength: 1
                            validTime:
                              description: Validity period of the resource
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Time Period
                              type: array
                              minItems: 2
                              maxItems: 2
                              items: &ref_13
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Time Instant
                                oneOf: &ref_191
                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                    title: Time Instant
                                    type: string
                                    format: date-time
                                  - type: string
                                    const: now
                            formats:
                              description: List of available formats
                              type: array
                              minItems: 1
                              items:
                                type: string
                              readOnly: true
                          required: &ref_80
                            - id
                            - name
                            - formats
                        - properties:
                            system@link:
                              description: Link to the system producing the observations
                              readOnly: true
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: &ref_11
                                - href
                              properties: &ref_12
                                href:
                                  description: URL of target resource
                                  type: string
                                  format: uri
                                  examples:
                                    - https://data.example.com/link/to/resource
                                rel:
                                  description: Link relation type
                                  type: string
                                  examples:
                                    - alternate
                                    - self
                                    - http://www.opengis.net/def/rel/ogc/1.0/conformance
                                type:
                                  description: Media type of target resource
                                  type: string
                                  examples:
                                    - application/json
                                    - image/tiff; application=geotiff
                                hreflang:
                                  description: Language tag of target resource (2-letter language code, followed by optional 2-letter region code)
                                  type: string
                                  minLength: 1
                                  pattern: ^([a-z]{2}(-[A-Z]{2})?)|x-default$
                                  examples:
                                    - en-US
                                    - fr-FR
                                    - de
                                title:
                                  description: Title of target resource
                                  type: string
                                  minLength: 1
                                  examples:
                                    - Resource Name
                                uid:
                                  description: Unique identifier of target resource
                                  type: string
                                  format: uri
                                  examples:
                                    - urn:x-org:resourceType:0001
                                rt:
                                  description: Semantic type of target resource (RFC 6690)
                                  type: string
                                  format: uri
                                  examples:
                                    - http://www.example.org/uri/of/concept
                                if:
                                  description: Interface used to access target resource (RFC 6690)
                                  type: string
                                  format: uri
                                  examples:
                                    - http://www.opengis.net/spec/spec-id/version
                            outputName:
                              description: Name of the system output feeding this datastream
                              type: string
                            procedure@link:
                              description: Link to the procedure used to acquire observations (only provided if all observations in the datastream share the same procedure)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            deployment@link:
                              description: Link to the deployment during which the observations are/were collected (only provided if all observations in the datastream share the same deployment)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            featureOfInterest@link:
                              description: Link to the ultimate feature of interest (only provided if all observations in the datastream share the same feature of interest)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            samplingFeature@link:
                              description: Link to the sampling feature (only provided if all observations in the datastream share the same sampling feature)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            observedProperties:
                              oneOf:
                                - type: 'null'
                                - description: List of observed properties included in this datastream
                                  type: array
                                  minItems: 1
                                  items:
                                    type: object
                                    properties:
                                      definition:
                                        type: string
                                        format: uri
                                      label:
                                        type: string
                                      description:
                                        type: string
                              readOnly: true
                            phenomenonTime:
                              oneOf:
                                - type: 'null'
                                - description: Time extent spanning all phenomenon times of observations in this datastream
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  title: Time Period
                                  type: array
                                  minItems: 2
                                  maxItems: 2
                                  items: *ref_13
                              readOnly: true
                            phenomenonTimeInterval:
                              description: An indication of how often feature of interest properties are observed
                              type: string
                              format: duration
                            resultTime:
                              oneOf:
                                - type: 'null'
                                - description: Time extent spanning all result times of observations in this datastream
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  title: Time Period
                                  type: array
                                  minItems: 2
                                  maxItems: 2
                                  items: *ref_13
                              readOnly: true
                            resultTimeInterval:
                              description: An indication of how often observation results are produced
                              type: string
                              format: duration
                            type:
                              type: string
                              enum:
                                - status
                                - observation
                            resultType:
                              oneOf:
                                - type: 'null'
                                - type: string
                                  enum:
                                    - measure
                                    - vector
                                    - record
                                    - coverage
                                    - complex
                              readOnly: true
                            live:
                              oneOf:
                                - type: 'null'
                                - description: Flag indicating if the datastream is currently streaming data
                                  type: boolean
                            schema:
                              description: Schema describing the content of observations in this datastream. The exact syntax of the schema depends on the encoding format.
                              writeOnly: true
                              $schema: https://json-schema.org/draft/2020-12/schema
                              oneOf: &ref_57
                                - title: JSON
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_208
                                    obsFormat:
                                      const: application/json
                                    parametersSchema:
                                      description: Record schema for the observation `parameters` property. If omitted, parameters are not included in the datastream.
                                      $schema: https://json-schema.org/draft/2020-12/schema
                                      type: object
                                      allOf: &ref_28
                                        - $schema: https://json-schema.org/draft/2020-12/schema
                                          description: Abstract base class for all data components
                                          type: object
                                          allOf: &ref_14
                                            - $schema: https://json-schema.org/draft/2020-12/schema
                                              description: Base substitution groups for all SWE Common objects with identification metadata
                                              type: object
                                              allOf: &ref_114
                                                - $schema: https://json-schema.org/draft/2020-12/schema
                                                  description: Base substitution groups for all SWE Common objects other than value objects
                                                  type: object
                                                  properties: &ref_37
                                                    id:
                                                      description: The ID of the object, referenceable using a URI fragment
                                                      type: string
                                                      minLength: 1
                                                - properties:
                                                    label:
                                                      description: Human readable label for the object
                                                      type: string
                                                      minLength: 1
                                                    description:
                                                      description: Human readable description of the object
                                                      type: string
                                                      minLength: 1
                                            - properties:
                                                type:
                                                  type: string
                                                updatable:
                                                  description: Specifies if the value of a data component can be updated externally (i.e., is variable)
                                                  type: boolean
                                                  default: false
                                                optional:
                                                  description: Specifies if the data for this component can be omitted in the datastream
                                                  type: boolean
                                                  default: false
                                                definition:
                                                  description: The definition of the property whose value is provided by this component (semantic link)
                                                  type: string
                                                  format: uri
                                        - properties:
                                            type:
                                              const: DataRecord
                                            fields:
                                              description: Definition of the record fields. Fields can be scalars or can themself be aggregates such as records, vectors, arrays, or choices.
                                              type: array
                                              minItems: 1
                                              items:
                                                allOf:
                                                  - type: object
                                                    properties: &ref_29
                                                      name:
                                                        type: string
                                                        minLength: 1
                                                        pattern: ^[A-Za-z][A-Za-z0-9_\-]*$
                                                    required: &ref_30
                                                      - name
                                                  - oneOf:
                                                      - type: object
                                                        properties: &ref_34
                                                          href:
                                                            type: string
                                                            format: uri-reference
                                                          role:
                                                            type: string
                                                            format: uri
                                                          arcrole:
                                                            type: string
                                                            format: uri
                                                          title:
                                                            type: string
                                                            minLength: 1
                                                        required: &ref_35
                                                          - href
                                                      - oneOf: &ref_36
                                                          - oneOf: &ref_120
                                                              - oneOf: &ref_194
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    description: 'Scalar component used to express truth: True or False, 0 or 1'
                                                                    type: object
                                                                    allOf: &ref_192
                                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                                        type: object
                                                                        allOf: &ref_15
                                                                          - $schema: https://json-schema.org/draft/2020-12/schema
                                                                            description: Abstract base class for all data components
                                                                            type: object
                                                                            allOf: *ref_14
                                                                          - properties:
                                                                              referenceFrame:
                                                                                description: Frame of reference (usually temporal or spatial) with respect to which the value of the component is expressed. A reference frame anchors a value to a real world datum.
                                                                                type: string
                                                                                format: uri-reference
                                                                              axisID:
                                                                                description: Specifies the reference axis (refer to CRS axisID). The reference frame URI should also be specified unless it is inherited from parent Vector
                                                                                type: string
                                                                                minLength: 1
                                                                              nilValues:
                                                                                description: Defines reserved values with special meaning (e.g., missing, out-of-range, etc.)
                                                                              constraint: {}
                                                                              value:
                                                                                description: Inline value(s) for the component. This property is optional to enable structure to act as a schema for values provided separately (e.g., in a datastream)
                                                                      - properties:
                                                                          type:
                                                                            const: Boolean
                                                                          value:
                                                                            type: boolean
                                                                        required:
                                                                          - type
                                                                          - definition
                                                                          - label
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    description: Scalar component with integer representation used for a discrete counting value
                                                                    type: object
                                                                    allOf: &ref_31
                                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                                        type: object
                                                                        allOf: *ref_15
                                                                      - properties:
                                                                          type:
                                                                            const: Count
                                                                          constraint:
                                                                            description: Defines the permitted values for the component as an enumerated list and/or a list of inclusive ranges
                                                                            type: object
                                                                            properties: &ref_17
                                                                              type:
                                                                                const: AllowedValues
                                                                              values:
                                                                                type: array
                                                                                minItems: 1
                                                                                items:
                                                                                  oneOf: &ref_16
                                                                                    - title: Number
                                                                                      type: number
                                                                                    - title: Special Value
                                                                                      type: string
                                                                                      enum:
                                                                                        - NaN
                                                                                        - Infinity
                                                                                        - +Infinity
                                                                                        - '-Infinity'
                                                                              intervals:
                                                                                type: array
                                                                                minItems: 1
                                                                                items:
                                                                                  type: array
                                                                                  minItems: 2
                                                                                  maxItems: 2
                                                                                  items:
                                                                                    oneOf: *ref_16
                                                                              significantFigures:
                                                                                type: integer
                                                                                minimum: 1
                                                                                maximum: 40
                                                                            anyOf: &ref_18
                                                                              - title: Enum Values
                                                                                required:
                                                                                  - values
                                                                              - title: Intervals
                                                                                required:
                                                                                  - intervals
                                                                          nilValues:
                                                                            type: array
                                                                            minItems: 1
                                                                            items: &ref_193
                                                                              type: object
                                                                              properties:
                                                                                reason:
                                                                                  description: The reason for using the reserved value
                                                                                  type: string
                                                                                  format: uri
                                                                                value:
                                                                                  description: The reserved value itself
                                                                                  type: integer
                                                                              required:
                                                                                - reason
                                                                                - value
                                                                              additionalProperties: false
                                                                          value:
                                                                            type: integer
                                                                        required:
                                                                          - type
                                                                          - definition
                                                                          - label
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    description: Scalar component with decimal representation and a unit of measure used to store value of a continuous quantity
                                                                    type: object
                                                                    allOf: &ref_32
                                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                                        type: object
                                                                        allOf: *ref_15
                                                                      - properties:
                                                                          type:
                                                                            const: Quantity
                                                                          uom:
                                                                            description: Unit of measure used to express the value of this data component
                                                                            type: object
                                                                            properties: &ref_19
                                                                              label:
                                                                                description: A human readable label for the unit
                                                                                type: string
                                                                                minLength: 1
                                                                              symbol:
                                                                                description: The preferred unit symbol to use when presenting the data in a UI (use the UCUM code instead if no symbol is provided)
                                                                                type: string
                                                                                minLength: 1
                                                                              code:
                                                                                type: string
                                                                                minLength: 1
                                                                              href:
                                                                                type: string
                                                                                format: uri
                                                                            anyOf: &ref_20
                                                                              - title: UCUM Code
                                                                                required:
                                                                                  - code
                                                                              - title: URI
                                                                                required:
                                                                                  - href
                                                                            unevaluatedProperties: false
                                                                          constraint:
                                                                            description: Defines the permitted values for the component as an enumerated list and/or a list of inclusive ranges
                                                                            type: object
                                                                            properties: *ref_17
                                                                            anyOf: *ref_18
                                                                          nilValues:
                                                                            type: array
                                                                            minItems: 1
                                                                            items: &ref_24
                                                                              type: object
                                                                              properties:
                                                                                reason:
                                                                                  description: The reason for using the reserved value
                                                                                  type: string
                                                                                  format: uri
                                                                                value:
                                                                                  description: The reserved value itself
                                                                                  oneOf: *ref_16
                                                                              required:
                                                                                - reason
                                                                                - value
                                                                              additionalProperties: false
                                                                          value:
                                                                            oneOf: *ref_16
                                                                        required:
                                                                          - type
                                                                          - definition
                                                                          - label
                                                                          - uom
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    description: Scalar component used to represent a time quantity either as ISO 8601 (e.g., 2004-04-18T12:03:04.6Z) or as a duration relative to a time of reference
                                                                    type: object
                                                                    allOf: &ref_33
                                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                                        type: object
                                                                        allOf: *ref_15
                                                                      - properties:
                                                                          type:
                                                                            const: Time
                                                                          referenceTime:
                                                                            description: Specifies the origin of the temporal reference frame as an ISO8601 date (used to specify time after an epoch that is to say in a custom frame)
                                                                            type: string
                                                                            format: date-time
                                                                          localFrame:
                                                                            description: Temporal frame of reference whose origin is located by the value of this component
                                                                            type: string
                                                                            format: uri
                                                                          uom:
                                                                            description: Temporal unit of measure used to express the value of this data component
                                                                            type: object
                                                                            properties: *ref_19
                                                                            anyOf: *ref_20
                                                                            unevaluatedProperties: false
                                                                          constraint:
                                                                            description: Defines the permitted values for the component, as a time range or an enumerated list of time values
                                                                            type: object
                                                                            properties: &ref_25
                                                                              type:
                                                                                const: AllowedTimes
                                                                              values:
                                                                                type: array
                                                                                minItems: 1
                                                                                items:
                                                                                  oneOf: &ref_21
                                                                                    - title: Date/Time
                                                                                      type: string
                                                                                      format: date-time
                                                                                    - oneOf: *ref_16
                                                                              intervals:
                                                                                type: array
                                                                                items:
                                                                                  type: array
                                                                                  minItems: 2
                                                                                  maxItems: 2
                                                                                  items:
                                                                                    oneOf: *ref_21
                                                                              significantFigures:
                                                                                type: integer
                                                                                minimum: 1
                                                                                maximum: 40
                                                                            anyOf: &ref_26
                                                                              - title: Enum Values
                                                                                required:
                                                                                  - values
                                                                              - title: Intervals
                                                                                required:
                                                                                  - intervals
                                                                          nilValues:
                                                                            type: array
                                                                            minItems: 1
                                                                            items: &ref_27
                                                                              type: object
                                                                              properties:
                                                                                reason:
                                                                                  description: The reason for using the reserved value
                                                                                  type: string
                                                                                  format: uri
                                                                                value:
                                                                                  description: The reserved value itself
                                                                                  oneOf: *ref_21
                                                                              required:
                                                                                - reason
                                                                                - value
                                                                              additionalProperties: false
                                                                          value:
                                                                            oneOf: *ref_21
                                                                        required:
                                                                          - type
                                                                          - definition
                                                                          - label
                                                                          - uom
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    description: Scalar component used to represent a categorical value as a simple token identifying a term in a code space
                                                                    type: object
                                                                    allOf: &ref_40
                                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                                        type: object
                                                                        allOf: *ref_15
                                                                      - properties:
                                                                          type:
                                                                            const: Category
                                                                          codeSpace:
                                                                            description: Name of the dictionary where the possible values for this component are listed and defined
                                                                            type: string
                                                                            format: uri
                                                                          constraint:
                                                                            description: Defines permitted values for the component, as an enumerated list of tokens or a regular expression pattern
                                                                            type: object
                                                                            oneOf: &ref_22
                                                                              - title: Enum Values
                                                                                properties:
                                                                                  type:
                                                                                    const: AllowedTokens
                                                                                  values:
                                                                                    type: array
                                                                                    minItems: 1
                                                                                    items:
                                                                                      type: string
                                                                                      minLength: 1
                                                                                required:
                                                                                  - values
                                                                              - title: Regex Pattern
                                                                                properties:
                                                                                  type:
                                                                                    const: AllowedTokens
                                                                                  pattern:
                                                                                    type: string
                                                                                    format: regex
                                                                                    minLength: 1
                                                                                required:
                                                                                  - pattern
                                                                          nilValues:
                                                                            type: array
                                                                            minItems: 1
                                                                            items: &ref_23
                                                                              type: object
                                                                              properties:
                                                                                reason:
                                                                                  description: The reason for using the reserved value
                                                                                  type: string
                                                                                  format: uri
                                                                                value:
                                                                                  description: The reserved value itself
                                                                                  type: string
                                                                              required:
                                                                                - reason
                                                                                - value
                                                                              additionalProperties: false
                                                                          value:
                                                                            type: string
                                                                        required:
                                                                          - type
                                                                          - definition
                                                                          - label
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    description: Free text component used to store comments or any other type of textual statement
                                                                    type: object
                                                                    allOf: &ref_158
                                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                                        type: object
                                                                        allOf: *ref_15
                                                                      - properties:
                                                                          type:
                                                                            const: Text
                                                                          constraint:
                                                                            description: Defines permitted values for the component, as an enumerated list of tokens or a regular expression pattern
                                                                            type: object
                                                                            oneOf: *ref_22
                                                                          nilValues:
                                                                            type: array
                                                                            minItems: 1
                                                                            items: *ref_23
                                                                          value:
                                                                            type: string
                                                                        required:
                                                                          - type
                                                                          - definition
                                                                          - label
                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Integer pair used for specifying a count range
                                                                type: object
                                                                allOf: &ref_195
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    type: object
                                                                    allOf: *ref_15
                                                                  - properties:
                                                                      type:
                                                                        const: CountRange
                                                                      constraint:
                                                                        description: Defines the permitted values for the component as an enumerated list and/or a list of inclusive ranges
                                                                        type: object
                                                                        properties: *ref_17
                                                                        anyOf: *ref_18
                                                                      nilValues:
                                                                        type: array
                                                                        minItems: 1
                                                                        items: *ref_23
                                                                      value:
                                                                        type: array
                                                                        minItems: 2
                                                                        maxItems: 2
                                                                        items:
                                                                          type: integer
                                                                    required:
                                                                      - type
                                                                      - definition
                                                                      - label
                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Decimal pair for specifying a quantity range with a unit of measure
                                                                type: object
                                                                allOf: &ref_196
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    type: object
                                                                    allOf: *ref_15
                                                                  - properties:
                                                                      type:
                                                                        const: QuantityRange
                                                                      uom:
                                                                        description: Unit of measure used to express the value of this data component
                                                                        type: object
                                                                        properties: *ref_19
                                                                        anyOf: *ref_20
                                                                        unevaluatedProperties: false
                                                                      constraint:
                                                                        description: Defines the permitted values for the component as an enumerated list and/or a list of inclusive ranges
                                                                        type: object
                                                                        properties: *ref_17
                                                                        anyOf: *ref_18
                                                                      nilValues:
                                                                        type: array
                                                                        minItems: 1
                                                                        items: *ref_24
                                                                      value:
                                                                        type: array
                                                                        minItems: 2
                                                                        maxItems: 2
                                                                        items:
                                                                          oneOf: *ref_16
                                                                    required:
                                                                      - type
                                                                      - definition
                                                                      - label
                                                                      - uom
                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Time value pair for specifying a time range (can be a decimal or ISO 8601)
                                                                type: object
                                                                allOf: &ref_197
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    type: object
                                                                    allOf: *ref_15
                                                                  - properties:
                                                                      type:
                                                                        const: TimeRange
                                                                      referenceTime:
                                                                        description: Specifies the origin of the temporal reference frame as an ISO8601 date (used to specify time after an epoch that is to say in a custom frame)
                                                                        type: string
                                                                        format: date-time
                                                                      localFrame:
                                                                        description: Temporal frame of reference whose origin is located by the value of this component
                                                                        type: string
                                                                        format: uri
                                                                      uom:
                                                                        description: Temporal unit of measure used to express the value of this data component
                                                                        type: object
                                                                        properties: *ref_19
                                                                        anyOf: *ref_20
                                                                        unevaluatedProperties: false
                                                                      constraint:
                                                                        description: Defines the permitted values for the component, as a time range or an enumerated list of time values
                                                                        type: object
                                                                        properties: *ref_25
                                                                        anyOf: *ref_26
                                                                      nilValues:
                                                                        type: array
                                                                        minItems: 1
                                                                        items: *ref_27
                                                                      value:
                                                                        type: array
                                                                        minItems: 2
                                                                        maxItems: 2
                                                                        items:
                                                                          oneOf: *ref_21
                                                                    required:
                                                                      - type
                                                                      - definition
                                                                      - label
                                                                      - uom
                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Pair of categorical values used to specify a range in an ordinal reference system (specified by the code space)
                                                                type: object
                                                                allOf: &ref_198
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    type: object
                                                                    allOf: *ref_15
                                                                  - properties:
                                                                      type:
                                                                        const: CategoryRange
                                                                      codeSpace:
                                                                        description: Name of the dictionary defining an ordered set of values with respect to which the range is expressed (ordinal reference system)
                                                                        type: string
                                                                        format: uri
                                                                      constraint:
                                                                        description: Defines permitted values for the component, as an enumerated list of tokens or a regular expression pattern
                                                                        type: object
                                                                        oneOf: *ref_22
                                                                      nilValues:
                                                                        type: array
                                                                        minItems: 1
                                                                        items: *ref_23
                                                                      value:
                                                                        type: array
                                                                        minItems: 2
                                                                        maxItems: 2
                                                                        items:
                                                                          type: string
                                                                    required:
                                                                      - type
                                                                      - definition
                                                                      - label
                                                          - $schema: https://json-schema.org/draft/2020-12/schema
                                                            description: Implementation of ISO-11404 Record datatype. This allows grouping (sequence) of data components which can themselves be simple types, records, arrays or choices
                                                            type: object
                                                            allOf: *ref_28
                                                          - $schema: https://json-schema.org/draft/2020-12/schema
                                                            description: Implementation of a mathematical vector composed of a list of scalar coordinates expressed in the mandatory reference frame.
                                                            type: object
                                                            allOf: &ref_121
                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Abstract base class for all data components
                                                                type: object
                                                                allOf: *ref_14
                                                              - properties:
                                                                  type:
                                                                    const: Vector
                                                                  referenceFrame:
                                                                    description: Frame of reference (usually spatial) with respect to which the coordinates of this vector are expressed. A reference frame anchors a vector value to a real world datum.
                                                                    type: string
                                                                    format: uri-reference
                                                                  localFrame:
                                                                    description: Frame of reference whose origin is located by the coordinates of this vector
                                                                    type: string
                                                                    format: uri-reference
                                                                  coordinates:
                                                                    description: Definition of the coordinate provided as a data component with a numerical representation
                                                                    type: array
                                                                    items:
                                                                      allOf:
                                                                        - type: object
                                                                          properties: *ref_29
                                                                          required: *ref_30
                                                                        - oneOf:
                                                                            - $schema: https://json-schema.org/draft/2020-12/schema
                                                                              description: Scalar component with integer representation used for a discrete counting value
                                                                              type: object
                                                                              allOf: *ref_31
                                                                            - $schema: https://json-schema.org/draft/2020-12/schema
                                                                              description: Scalar component with decimal representation and a unit of measure used to store value of a continuous quantity
                                                                              type: object
                                                                              allOf: *ref_32
                                                                            - $schema: https://json-schema.org/draft/2020-12/schema
                                                                              description: Scalar component used to represent a time quantity either as ISO 8601 (e.g., 2004-04-18T12:03:04.6Z) or as a duration relative to a time of reference
                                                                              type: object
                                                                              allOf: *ref_33
                                                                required:
                                                                  - type
                                                                  - definition
                                                                  - referenceFrame
                                                                  - label
                                                                  - coordinates
                                                          - $schema: https://json-schema.org/draft/2020-12/schema
                                                            description: Implementation of ISO-11404 Array datatype. This defines an array of identical data components with a elementCount. Values are given as a block and can be encoded in different ways
                                                            allOf: &ref_122
                                                              - type: object
                                                                allOf: &ref_39
                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                    description: Abstract base class for all data components
                                                                    type: object
                                                                    allOf: *ref_14
                                                                  - properties:
                                                                      elementCount:
                                                                        description: Specifies the size of the array (i.e., the number of elements of the defined type it contains)
                                                                        oneOf:
                                                                          - type: object
                                                                            properties: *ref_34
                                                                            required: *ref_35
                                                                          - type: object
                                                                            allOf: &ref_199
                                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                                type: object
                                                                                allOf: *ref_15
                                                                              - properties:
                                                                                  constraint:
                                                                                    description: Defines the permitted values for the component as an enumerated list and/or a list of inclusive ranges
                                                                                    type: object
                                                                                    properties: *ref_17
                                                                                    anyOf: *ref_18
                                                                                  value:
                                                                                    description: Value is optional, to enable structure to act as a schema for values provided using other encodings
                                                                                    type: integer
                                                                      elementType:
                                                                        description: Defines the structure of the element that will be repeated in the array
                                                                        allOf:
                                                                          - type: object
                                                                            properties: *ref_29
                                                                            required: *ref_30
                                                                          - oneOf:
                                                                              - type: object
                                                                                properties: *ref_34
                                                                                required: *ref_35
                                                                              - oneOf: *ref_36
                                                                      encoding:
                                                                        description: Specifies the type of method used to encode the array values
                                                                        oneOf:
                                                                          - description: Parameters of the binary encoding method
                                                                            type: object
                                                                            allOf: &ref_43
                                                                              - type: object
                                                                                allOf: &ref_38
                                                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                                                    description: Base substitution groups for all SWE Common objects other than value objects
                                                                                    type: object
                                                                                    properties: *ref_37
                                                                                  - properties: {}
                                                                              - properties:
                                                                                  type:
                                                                                    const: BinaryEncoding
                                                                                  byteOrder:
                                                                                    description: Byte order convention used to encode this binary data (big endian = most significant byte first, MSB or little endian = least significant byte first, LSB)
                                                                                    type: string
                                                                                    enum:
                                                                                      - bigEndian
                                                                                      - littleEndian
                                                                                  byteEncoding:
                                                                                    description: Byte encoding method used to encode the binary data (raw or base 64)
                                                                                    type: string
                                                                                    enum:
                                                                                      - base64
                                                                                      - raw
                                                                                  byteLength:
                                                                                    description: Total length in bytes of the binary stream (if known in advance)
                                                                                    type: integer
                                                                                  members:
                                                                                    description: Each member contains detailed parameters for encoding a scalar value or a block of values
                                                                                    type: array
                                                                                    minItems: 1
                                                                                    items:
                                                                                      oneOf:
                                                                                        - description: Binary encoding parameters used for encoding a single data component
                                                                                          type: object
                                                                                          allOf: &ref_200
                                                                                            - $schema: https://json-schema.org/draft/2020-12/schema
                                                                                              description: Base substitution groups for all SWE Common objects other than value objects
                                                                                              type: object
                                                                                              properties: *ref_37
                                                                                            - properties:
                                                                                                type:
                                                                                                  const: Component
                                                                                                encryption:
                                                                                                  description: Name of the encryption method used to encrypt the value of this field
                                                                                                  type: string
                                                                                                  format: uri
                                                                                                significantBits:
                                                                                                  description: Number of significant bits actually used for a binary encoded numerical value (all remaining bits shall be set to 0)
                                                                                                  type: integer
                                                                                                bitLength:
                                                                                                  type: integer
                                                                                                byteLength:
                                                                                                  description: Byte length of this field when a custom data type is used
                                                                                                  type: integer
                                                                                                dataType:
                                                                                                  description: Binary data type used to encode the value(s) of the referenced data component
                                                                                                  type: string
                                                                                                  format: uri
                                                                                                ref:
                                                                                                  description: Reference to the data component that these binary encoding settings apply to
                                                                                                  type: string
                                                                                              required:
                                                                                                - type
                                                                                                - dataType
                                                                                                - ref
                                                                                        - description: Binary encoding parameters used to encode a block of values at once. This is used for encrypting or compressing a complete array of values for instance
                                                                                          type: object
                                                                                          allOf: &ref_201
                                                                                            - $schema: https://json-schema.org/draft/2020-12/schema
                                                                                              description: Base substitution groups for all SWE Common objects other than value objects
                                                                                              type: object
                                                                                              properties: *ref_37
                                                                                            - properties:
                                                                                                type:
                                                                                                  const: Block
                                                                                                compression:
                                                                                                  description: Name of the compression method used to encrypt the block of values described by the referenced data component
                                                                                                  type: string
                                                                                                  format: uri
                                                                                                encryption:
                                                                                                  description: Name of the encryption method used to encrypt the block of values described by the referenced data component
                                                                                                  type: string
                                                                                                  format: uri
                                                                                                paddingBytes-after:
                                                                                                  description: Number of padding bytes present in the stream after this binary block
                                                                                                  type: integer
                                                                                                paddingBytes-before:
                                                                                                  description: Number of padding bytes present in the stream before this binary block
                                                                                                  type: integer
                                                                                                byteLength:
                                                                                                  description: Length in byte of this binary block (if known in advance)
                                                                                                  type: integer
                                                                                                ref:
                                                                                                  description: Reference to the aggregate data component that this binary block encoding settings apply to
                                                                                                  type: string
                                                                                              required:
                                                                                                - type
                                                                                                - ref
                                                                                required:
                                                                                  - type
                                                                                  - byteOrder
                                                                                  - byteEncoding
                                                                                  - members
                                                                          - description: Parameters of the text encoding method
                                                                            type: object
                                                                            allOf: &ref_42
                                                                              - type: object
                                                                                allOf: *ref_38
                                                                              - properties:
                                                                                  type:
                                                                                    const: TextEncoding
                                                                                  collapseWhiteSpaces:
                                                                                    description: Indicates whether white spaces (i.e., space, tab, CR, LF) should be collapsed with separators when parsing the data stream
                                                                                    type: boolean
                                                                                  decimalSeparator:
                                                                                    description: Character used as the decimal separator
                                                                                    type: string
                                                                                    minLength: 1
                                                                                  tokenSeparator:
                                                                                    description: Character sequence used as the token separator (i.e., between two successive values)
                                                                                    type: string
                                                                                    minLength: 1
                                                                                  blockSeparator:
                                                                                    description: Character sequence used as the block separator (i.e., between two successive blocks in the data set. The end of a block is reached once all values from the data tree have been encoded once)
                                                                                    type: string
                                                                                    minLength: 1
                                                                                required:
                                                                                  - type
                                                                                  - tokenSeparator
                                                                                  - blockSeparator
                                                                          - description: Parameters of the XML encoding method
                                                                            type: object
                                                                            allOf: &ref_202
                                                                              - type: object
                                                                                allOf: *ref_38
                                                                              - properties:
                                                                                  type:
                                                                                    const: XMLEncoding
                                                                                  namespace:
                                                                                    type: string
                                                                                    format: uri
                                                                                required:
                                                                                  - type
                                                                          - description: Parameters of the JSON encoding method
                                                                            type: object
                                                                            allOf: &ref_41
                                                                              - type: object
                                                                                allOf: *ref_38
                                                                              - properties:
                                                                                  type:
                                                                                    const: JSONEncoding
                                                                                  recordsAsArrays:
                                                                                    type: boolean
                                                                                    default: false
                                                                                    description: If true, DataRecord values are encoded as JSON arrays instead of JSON objects
                                                                                  vectorsAsArrays:
                                                                                    type: boolean
                                                                                    default: false
                                                                                    description: If true, Vector values are encoded as JSON arrays instead of JSON objects
                                                                                required:
                                                                                  - type
                                                                      values:
                                                                        description: If present, contains an encoded block of the values contained in the array. Values are optional so that the array definition can be used a as a schema for values provided separately
                                                                        oneOf: &ref_203
                                                                          - type: array
                                                                          - type: object
                                                                            properties: *ref_34
                                                                            required: *ref_35
                                                              - properties:
                                                                  type:
                                                                    const: DataArray
                                                                required:
                                                                  - type
                                                                  - elementType
                                                            $defs: &ref_123
                                                              AbstractArray: &ref_204
                                                                type: object
                                                                allOf: *ref_39
                                                          - $schema: https://json-schema.org/draft/2020-12/schema
                                                            description: Implementation of ISO-11404 Array datatype. This defines an array of identical data components with a elementCount. Values are given as a block and can be encoded in different ways
                                                            type: object
                                                            allOf: &ref_124
                                                              - type: object
                                                                allOf: *ref_39
                                                              - properties:
                                                                  type:
                                                                    const: Matrix
                                                                  referenceFrame:
                                                                    description: Frame of reference (usually spatial) with respect to which the coordinates of this matrix are expressed
                                                                    type: string
                                                                    format: uri-reference
                                                                  localFrame:
                                                                    description: Frame of reference whose position and orientation are provided by the transformation defined by this matrix
                                                                    type: string
                                                                    format: uri-reference
                                                                required:
                                                                  - type
                                                                  - elementType
                                                          - $schema: https://json-schema.org/draft/2020-12/schema
                                                            description: Implementation of a choice of two or more Data Components (also called disjoint union)
                                                            type: object
                                                            allOf: &ref_205
                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Abstract base class for all data components
                                                                type: object
                                                                allOf: *ref_14
                                                              - properties:
                                                                  type:
                                                                    const: DataChoice
                                                                  choiceValue:
                                                                    description: This category component marks the data stream element that will indicate the actual choice made. Possible choices are listed in the Category constraint section as an enumeration and should map to item names.
                                                                    $schema: https://json-schema.org/draft/2020-12/schema
                                                                    type: object
                                                                    allOf: *ref_40
                                                                  items:
                                                                    description: Definition of the choice items. Items can be of any component types
                                                                    type: array
                                                                    items:
                                                                      allOf:
                                                                        - type: object
                                                                          properties: *ref_29
                                                                          required: *ref_30
                                                                        - oneOf:
                                                                            - type: object
                                                                              properties: *ref_34
                                                                              required: *ref_35
                                                                            - oneOf: *ref_36
                                                                required:
                                                                  - type
                                                                  - items
                                                          - $schema: https://json-schema.org/draft/2020-12/schema
                                                            title: Geometry
                                                            description: Implementation of ISO-19107 geometry datatype. This allows embedding a geometry in a larger schema
                                                            type: object
                                                            allOf: &ref_207
                                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Abstract base class for all data components
                                                                type: object
                                                                allOf: *ref_14
                                                              - properties:
                                                                  type:
                                                                    const: Geometry
                                                                  constraint:
                                                                    type: object
                                                                    properties:
                                                                      geomTypes:
                                                                        type: array
                                                                        minLength: 1
                                                                        items:
                                                                          type: string
                                                                          enum:
                                                                            - Point
                                                                            - MultiPoint
                                                                            - LineString
                                                                            - MultiLineString
                                                                            - Polygon
                                                                            - MultiPolygon
                                                                    additionalProperties: false
                                                                  nilValues:
                                                                    type: array
                                                                    minItems: 1
                                                                    items: *ref_23
                                                                  srs:
                                                                    description: Coordinate reference system with respect to which the coordinates of this geometry are expressed
                                                                    type: string
                                                                    format: uri
                                                                  value:
                                                                    $schema: http://json-schema.org/draft-07/schema#
                                                                    $id: https://geojson.org/schema/Geometry.json
                                                                    title: GeoJSON Geometry
                                                                    oneOf: &ref_206
                                                                      - title: GeoJSON Point
                                                                        type: object
                                                                        required:
                                                                          - type
                                                                          - coordinates
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                            enum:
                                                                              - Point
                                                                          coordinates:
                                                                            type: array
                                                                            minItems: 2
                                                                            items:
                                                                              type: number
                                                                          bbox:
                                                                            type: array
                                                                            minItems: 4
                                                                            items:
                                                                              type: number
                                                                      - title: GeoJSON LineString
                                                                        type: object
                                                                        required:
                                                                          - type
                                                                          - coordinates
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                            enum:
                                                                              - LineString
                                                                          coordinates:
                                                                            type: array
                                                                            minItems: 2
                                                                            items:
                                                                              type: array
                                                                              minItems: 2
                                                                              items:
                                                                                type: number
                                                                          bbox:
                                                                            type: array
                                                                            minItems: 4
                                                                            items:
                                                                              type: number
                                                                      - title: GeoJSON Polygon
                                                                        type: object
                                                                        required:
                                                                          - type
                                                                          - coordinates
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                            enum:
                                                                              - Polygon
                                                                          coordinates:
                                                                            type: array
                                                                            items:
                                                                              type: array
                                                                              minItems: 4
                                                                              items:
                                                                                type: array
                                                                                minItems: 2
                                                                                items:
                                                                                  type: number
                                                                          bbox:
                                                                            type: array
                                                                            minItems: 4
                                                                            items:
                                                                              type: number
                                                                      - title: GeoJSON MultiPoint
                                                                        type: object
                                                                        required:
                                                                          - type
                                                                          - coordinates
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                            enum:
                                                                              - MultiPoint
                                                                          coordinates:
                                                                            type: array
                                                                            items:
                                                                              type: array
                                                                              minItems: 2
                                                                              items:
                                                                                type: number
                                                                          bbox:
                                                                            type: array
                                                                            minItems: 4
                                                                            items:
                                                                              type: number
                                                                      - title: GeoJSON MultiLineString
                                                                        type: object
                                                                        required:
                                                                          - type
                                                                          - coordinates
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                            enum:
                                                                              - MultiLineString
                                                                          coordinates:
                                                                            type: array
                                                                            items:
                                                                              type: array
                                                                              minItems: 2
                                                                              items:
                                                                                type: array
                                                                                minItems: 2
                                                                                items:
                                                                                  type: number
                                                                          bbox:
                                                                            type: array
                                                                            minItems: 4
                                                                            items:
                                                                              type: number
                                                                      - title: GeoJSON MultiPolygon
                                                                        type: object
                                                                        required:
                                                                          - type
                                                                          - coordinates
                                                                        properties:
                                                                          type:
                                                                            type: string
                                                                            enum:
                                                                              - MultiPolygon
                                                                          coordinates:
                                                                            type: array
                                                                            items:
                                                                              type: array
                                                                              items:
                                                                                type: array
                                                                                minItems: 4
                                                                                items:
                                                                                  type: array
                                                                                  minItems: 2
                                                                                  items:
                                                                                    type: number
                                                                          bbox:
                                                                            type: array
                                                                            minItems: 4
                                                                            items:
                                                                              type: number
                                                                required:
                                                                  - type
                                                                  - srs
                                                                  - definition
                                                                  - label
                                          required:
                                            - type
                                            - fields
                                    resultSchema:
                                      description: Schema for the observation `result` property. This describes the observed properties included in the result and how they are structured if the result is a record, a vector quantity or a coverage.
                                      oneOf: *ref_36
                                    resultLink:
                                      description: Encoding information in case the result is provided out-of-band via the `result@link` property.
                                      type: object
                                      properties:
                                        mediaType:
                                          description: Media type of out-of-band resources obtained by dereferencing the result links
                                          type: string
                                      required:
                                        - mediaType
                                  required: &ref_209
                                    - obsFormat
                                  oneOf: &ref_210
                                    - title: Inline Result
                                      required:
                                        - resultSchema
                                    - title: Result Link
                                      required:
                                        - resultLink
                                - title: SWE Common
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_211
                                    obsFormat:
                                      type: string
                                    recordSchema:
                                      oneOf: *ref_36
                                    encoding: {}
                                  required: &ref_212
                                    - obsFormat
                                    - recordSchema
                                    - encoding
                                  oneOf: &ref_213
                                    - title: SWE JSON
                                      properties:
                                        obsFormat:
                                          const: application/swe+json
                                        encoding:
                                          description: Parameters of the JSON encoding method
                                          type: object
                                          allOf: *ref_41
                                    - title: SWE Text
                                      properties:
                                        obsFormat:
                                          const: application/swe+text
                                        encoding:
                                          description: Parameters of the text encoding method
                                          type: object
                                          allOf: *ref_42
                                    - title: SWE CSV
                                      properties:
                                        obsFormat:
                                          const: application/swe+csv
                                        encoding:
                                          allOf:
                                            - description: Parameters of the text encoding method
                                              type: object
                                              allOf: *ref_42
                                            - properties:
                                                tokenSeparator:
                                                  const: ','
                                                blockSeparator:
                                                  const: |+

                                    - title: SWE Binary
                                      properties:
                                        obsFormat:
                                          const: application/swe+binary
                                        encoding:
                                          description: Parameters of the binary encoding method
                                          type: object
                                          allOf: *ref_43
                                - title: Protobuf
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_214
                                    obsFormat:
                                      const: application/x-protobuf
                                    messageSchema:
                                      description: Protobuf schema provided as a string or as a link to an external proto file
                                      oneOf:
                                        - title: Inline schema
                                          type: string
                                          minLength: 1
                                        - title: Link to external file
                                          $schema: https://json-schema.org/draft/2020-12/schema
                                          description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
                                          type: object
                                          required: *ref_11
                                          properties: *ref_12
                                  required: &ref_215
                                    - obsFormat
                                    - messageSchema
                                - title: Other format
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_216
                                    obsFormat:
                                      type: string
                                      not:
                                        enum:
                                          - application/json
                                          - application/swe+json
                                          - application/swe+text
                                          - application/swe+binary
                                          - application/x-protobuf
                                    any:
                                      description: Any other properties to describe schema
                                  required: &ref_217
                                    - obsFormat
                              required: &ref_58
                                - obsFormat
                            links:
                              description: Other links to related resources
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link Collection
                              type: array
                              minItems: 1
                              items: &ref_44
                                $schema: https://json-schema.org/draft/2020-12/schema
                                title: Link
                                description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
                                type: object
                                required: *ref_11
                                properties: *ref_12
                      required: &ref_54
                        - name
                        - system@link
                        - observedProperties
                        - phenomenonTime
                        - resultTime
                        - resultType
                        - live
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_219
                  - items
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /systems/{systemId}/datastreams:
    parameters:
      - name: systemId
        in: path
        description: Local identifier of a System
        required: true
        schema: &ref_81
          type: string
          minLength: 1
    get:
      summary: List datastreams of a specific system
      description: List or search datastreams available from the parent system.
      tags:
        - Data Streams
      parameters:
        - name: phenomenonTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `phenomenonTime` property that intersects the value of the
            `phenomenonTime` parameter are selected.
          required: false
          schema: *ref_45
          style: form
          explode: false
          examples: *ref_46
        - name: resultTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `resultTime` property that intersects the value of the
            `resultTime` parameter are selected.
          required: false
          schema: *ref_47
          style: form
          explode: false
          examples: *ref_48
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: *ref_52
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    post:
      summary: Add a datastream
      description: Add a new datastream to an existing system.
      tags:
        - Data Streams
      requestBody:
        description: A single `DataStream` resource
        content: &ref_55
          application/json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              allOf: *ref_53
              required: *ref_54
            examples:
              simple:
                summary: Simple Datastream (1 observed property)
                value:
                  name: Indoor Thermometer 001 - Living Room Temperature
                  description: Indoor temperature measured on the south wall of the living room at 1.5m above the floor
                  featureOfInterest@link:
                    href: https://data.example.org/api/collections/buildings/items/754
                    title: My House
                  samplingFeature@link:
                    href: https://data.example.org/api/samplingFeatures/4478
                    title: Thermometer Sampling Point
                  schema:
                    obsFormat: application/json
                    resultSchema:
                      name: temp
                      type: Quantity
                      definition: http://mmisw.org/ont/cf/parameter/air_temperature
                      label: Room Temperature
                      description: Ambient air temperature measured inside the room
                      uom:
                        code: Cel
                      nilValues:
                        - reason: http://www.opengis.net/def/nil/OGC/0/missing
                          value: NaN
                        - reason: http://www.opengis.net/def/nil/OGC/0/BelowDetectionRange
                          value: '-Infinity'
                        - reason: http://www.opengis.net/def/nil/OGC/0/AboveDetectionRange
                          value: +Infinity
      responses:
        '201':
          description: Success. New resource created.
          headers: &ref_77
            Location:
              schema:
                type: string
              description: URI of newly created resource
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /datastreams/{dataStreamId}:
    parameters:
      - name: dataStreamId
        in: path
        description: Local identifier of a Datastream
        required: true
        schema: &ref_56
          type: string
          minLength: 1
    get:
      summary: Get a datastream by ID
      description: null
      tags:
        - Data Streams
      responses:
        '200':
          description: OK. Successful request
          content: &ref_296
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                allOf: *ref_53
                required: *ref_54
              examples:
                simple:
                  summary: Simple Datastream (1 observed property)
                  value:
                    id: 958tf25kjm2f6
                    name: Indoor Thermometer 001 - Living Room Temperature
                    outputName: temp
                    system@link:
                      href: https://data.example.org/api/systems/123
                      uid: urn:x-ogc:systems:001
                    featureOfInterest@link:
                      href: https://data.example.org/api/collections/buildings/items/754
                      title: My House
                    samplingFeature@link:
                      href: https://data.example.org/api/samplingFeatures/4478
                      title: Thermometer Sampling Point
                    phenomenonTime:
                      - '2020-06-29T14:32:00Z'
                      - '2022-06-29T19:37:00Z'
                    resultTime:
                      - '2020-06-29T14:32:00Z'
                      - '2012-06-29T19:37:00Z'
                    observedProperties:
                      - definition: http://mmisw.org/ont/cf/parameter/air_temperature
                        label: Room Temperature
                        description: Ambient air temperature measured inside the room
                    resultType: measure
                    formats:
                      - application/json
                      - application/swe+json
                      - application/swe+csv
                      - application/x-protobuf
                    live: true
                    links:
                      - rel: observations
                        href: https://data.example.org/api/datastreams/958tf25kjm2f6/observations
                        type: application/json
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update a datastream
      description: null
      tags:
        - Data Streams
      requestBody:
        description: A single `DataStream` resource
        content: *ref_55
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete a datastream
      description: |-
        This will delete the datastream and remove it from all collections it is associated to.

        If the `cascade` parameter is used, all associated observations are also deleted.
      tags:
        - Data Streams
      parameters:
        - name: cascade
          in: query
          description: If set to true, dependent resources are also deleted.
          required: false
          schema: &ref_90
            type: boolean
            default: false
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /datastreams/{dataStreamId}/schema:
    parameters:
      - name: dataStreamId
        in: path
        description: Local identifier of a Datastream
        required: true
        schema: *ref_56
    get:
      summary: Get the observation schema
      description: |-
        Get the observation schema for a given format.

        The type of observation schema returned depends on the observation encoding format selected using the `obsFormat` parameter.
      tags:
        - Data Streams
      parameters:
        - name: obsFormat
          in: query
          description: Media type of the desired observation format
          required: true
          schema: &ref_284
            type: string
      responses:
        '200':
          description: OK. Successful request
          content: &ref_297
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                oneOf: *ref_57
                required: *ref_58
              examples:
                scalar-omjson:
                  summary: Scalar Result - JSON encoding
                  value:
                    obsFormat: application/json
                    resultSchema: &ref_59
                      name: temp
                      type: Quantity
                      definition: http://mmisw.org/ont/cf/parameter/air_temperature
                      label: Room Temperature
                      description: Ambient air temperature measured inside the room
                      uom:
                        code: Cel
                      nilValues:
                        - reason: http://www.opengis.net/def/nil/OGC/0/missing
                          value: NaN
                        - reason: http://www.opengis.net/def/nil/OGC/0/BelowDetectionRange
                          value: '-Infinity'
                        - reason: http://www.opengis.net/def/nil/OGC/0/AboveDetectionRange
                          value: +Infinity
                scalar-omproto:
                  summary: Scalar Result - Protobuf encoding
                  value:
                    obsFormat: application/x-protobuf
                    messageSchema: &ref_60
                      href: https://data.example.org/api/datastreams/958tf25kjm2f6/schema?f=proto
                      type: text/plain
                scalar-swejson:
                  summary: Scalar Result - SWE Common Schema with JSON encoding
                  value:
                    obsFormat: application/swe+json
                    recordSchema: &ref_61
                      type: DataRecord
                      fields:
                        - name: time
                          type: Time
                          definition: http://www.opengis.net/def/property/OGC/0/SamplingTime
                          referenceFrame: http://www.opengis.net/def/trs/BIPM/0/UTC
                          label: Sampling Time
                          uom:
                            href: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian
                        - name: temp
                          type: Quantity
                          definition: http://mmisw.org/ont/cf/parameter/air_temperature
                          label: Room Temperature
                          description: Ambient air temperature measured inside the room
                          uom:
                            code: Cel
                          nilValues:
                            - reason: http://www.opengis.net/def/nil/OGC/0/missing
                              value: NaN
                            - reason: http://www.opengis.net/def/nil/OGC/0/BelowDetectionRange
                              value: '-Infinity'
                            - reason: http://www.opengis.net/def/nil/OGC/0/AboveDetectionRange
                              value: +Infinity
                    encoding: &ref_62
                      type: JSONEncoding
                scalar-swecsv:
                  summary: Scalar Result - SWE Common Schema with CSV encoding
                  value:
                    obsFormat: application/swe+csv
                    recordSchema: &ref_63
                      type: DataRecord
                      fields:
                        - name: time
                          type: Time
                          definition: http://www.opengis.net/def/property/OGC/0/SamplingTime
                          referenceFrame: http://www.opengis.net/def/trs/BIPM/0/UTC
                          label: Sampling Time
                          uom:
                            href: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian
                        - name: temp
                          type: Quantity
                          definition: http://mmisw.org/ont/cf/parameter/air_temperature
                          label: Room Temperature
                          description: Ambient air temperature measured inside the room
                          uom:
                            code: Cel
                          nilValues:
                            - reason: http://www.opengis.net/def/nil/OGC/0/missing
                              value: NaN
                            - reason: http://www.opengis.net/def/nil/OGC/0/BelowDetectionRange
                              value: '-Infinity'
                            - reason: http://www.opengis.net/def/nil/OGC/0/AboveDetectionRange
                              value: +Infinity
                    encoding: &ref_64
                      type: TextEncoding
                      collapseWhiteSpaces: true
                      decimalSeparator: .
                      tokenSeparator: ','
                      blockSeparator: |+

                geopose-omjson:
                  summary: GeoPose Result - JSON encoding
                  value:
                    obsFormat: application/json
                    resultSchema: &ref_65
                      type: DataRecord
                      label: Basic YPR Pose
                      description: Pose of platform (position + euler angles) in WGS84/ENU
                      definition: http://www.opengis.net/spec/geopose/1.0/req/basic-ypr
                      fields:
                        - name: position
                          type: Vector
                          label: Tangent Point Position
                          definition: http://sensorml.com/ont/swe/property/Location
                          referenceFrame: http://www.opengis.net/def/crs/EPSG/0/4979
                          coordinates:
                            - name: lat
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/GeodeticLatitude
                              axisID: Lat
                              label: Geodetic Latitude
                              uom:
                                code: deg
                            - name: lon
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/Longitude
                              axisID: Lon
                              label: Longitude
                              uom:
                                code: deg
                            - name: h
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/HeightAboveEllipsoid
                              axisID: h
                              label: Ellipsoidal Height
                              uom:
                                code: m
                        - name: angles
                          type: Vector
                          label: Yaw Pitch Roll Angles
                          description: Euler angles with order of rotation yaw/pitch/roll in rotating frame
                          definition: http://sensorml.com/ont/swe/property/EulerAngles
                          referenceFrame: http://www.opengis.net/def/cs/OGC/0/ENU
                          coordinates:
                            - name: yaw
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/YawAngle
                              axisID: Z
                              label: Yaw Angle
                              description: Heading angle from true north, measured clockwise
                              uom:
                                code: deg
                            - name: pitch
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/PitchAngle
                              axisID: 'Y'
                              label: Pitch Angle
                              description: Rotation around the lateral axis, up/down from the local horizontal plane (positive when pointing up)
                              uom:
                                code: deg
                            - name: roll
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/RollAngle
                              axisID: X
                              label: Roll Angle
                              description: Rotation around the longitudinal axis
                              uom:
                                code: deg
                geopose-swejson:
                  summary: GeoPose Result - SWE Common Schema with JSON encoding
                  value:
                    obsFormat: application/swe+json
                    recordSchema: &ref_66
                      type: DataRecord
                      label: Basic YPR Pose
                      description: Pose of platform (position + euler angles) in WGS84/ENU
                      definition: http://www.opengis.net/spec/geopose/1.0/req/basic-ypr
                      fields:
                        - name: time
                          type: Time
                          definition: http://www.opengis.net/def/property/OGC/0/SamplingTime
                          referenceFrame: http://www.opengis.net/def/trs/BIPM/0/UTC
                          label: Sampling Time
                          uom:
                            href: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian
                        - name: position
                          type: Vector
                          label: Tangent Point Position
                          definition: http://sensorml.com/ont/swe/property/Location
                          referenceFrame: http://www.opengis.net/def/crs/EPSG/0/4979
                          coordinates:
                            - name: lat
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/GeodeticLatitude
                              axisID: Lat
                              label: Geodetic Latitude
                              uom:
                                code: deg
                            - name: lon
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/Longitude
                              axisID: Lon
                              label: Longitude
                              uom:
                                code: deg
                            - name: h
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/HeightAboveEllipsoid
                              axisID: h
                              label: Ellipsoidal Height
                              uom:
                                code: m
                        - name: angles
                          type: Vector
                          label: Yaw Pitch Roll Angles
                          description: Euler angles with order of rotation yaw/pitch/roll in rotating frame
                          definition: http://sensorml.com/ont/swe/property/EulerAngles
                          referenceFrame: http://www.opengis.net/def/cs/OGC/0/ENU
                          coordinates:
                            - name: yaw
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/YawAngle
                              axisID: Z
                              label: Yaw Angle
                              description: Heading angle from true north, measured clockwise
                              uom:
                                code: deg
                            - name: pitch
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/PitchAngle
                              axisID: 'Y'
                              label: Pitch Angle
                              description: Rotation around the lateral axis, up/down from the local horizontal plane (positive when pointing up)
                              uom:
                                code: deg
                            - name: roll
                              type: Quantity
                              definition: http://sensorml.com/ont/swe/property/RollAngle
                              axisID: X
                              label: Roll Angle
                              description: Rotation around the longitudinal axis
                              uom:
                                code: deg
                    encoding: &ref_67
                      type: JSONEncoding
            application/schema+json:
              examples:
                scalar-omjson:
                  summary: Scalar Result - JSON Schema
                  value:
                    $schema: https://json-schema.org/draft/2020-12/schema
                    allOf:
                      - $ref: https://raw.githubusercontent.com/opengeospatial/ogcapi-connected-systems/master/api/part2/openapi/schemas/json/observation.json
                      - properties:
                          result:
                            type: number
                            title: Room Temperature
                            description: Ambient air temperature measured inside the room
                            '@swe.definition': http://mmisw.org/ont/cf/parameter/air_temperature
                            '@swe.uomCode': Cel
                        required:
                          - result
            text/plain:
              examples:
                scalar-proto:
                  summary: Scalar Result - Protobuf Schema
                  value: |-
                    syntax = "proto3";
                    import "swe_options.proto";
                    import "google/protobuf/timestamp.proto";

                    message Observation {

                      // internal datastream ID
                      optional int64 datastream_id = 1;

                      // internal FOI ID
                      optional int64 foi_id = 2 [
                        default = 0
                      ];

                      // Result Time
                      Timestamp time = 3 [
                        (definition) = "http://www.opengis.net/def/property/OGC/0/SamplingTime",
                        (referenceFrame) = "http://www.opengis.net/def/trs/BIPM/0/UTC",
                        (label) = "Sampling Time"
                      ];

                      // Room Temperature
                      float temp = 4 [
                        (definition) = "http://mmisw.org/ont/cf/parameter/air_temperature",
                        (label) = "Room Temperature",
                        (description) = "Ambient air temperature measured inside the room",
                        (uomCode) = "Cel"
                      ];
                    }
                geopose-proto:
                  summary: GeoPose Result - Protobuf Schema
                  value: |-
                    syntax = "proto3";
                    import "swe_options.proto";
                    import "google/protobuf/timestamp.proto";

                    message Observation {
                      option (definition) = "http://www.opengis.net/spec/geopose/1.0/req/basic-ypr";
                      option (label) = "Basic YPR Pose";
                      option (description) = "Pose of platform (position + euler angles) in WGS84/ENU";
                      
                      // internal datastream ID
                      optional int64 datastream_id = 1;

                      // internal FOI ID
                      optional int64 foi_id = 2 [
                        default = 0
                      ];

                      // Result Time
                      Timestamp time = 3 [
                        (definition) = "http://www.opengis.net/def/property/OGC/0/SamplingTime",
                        (referenceFrame) = "http://www.opengis.net/def/trs/BIPM/0/UTC",
                        (label) = "Sampling Time"
                      ];

                      // Tangent Point Position
                      message TangentPointPosition {
                        option (definition) = "http://sensorml.com/ont/swe/property/Location";
                        option (referenceFrame) = "http://www.opengis.net/def/crs/EPSG/0/4979";
                        option (label) = "Tangent Point Position";

                        double lat = 1 [
                          (definition) = "http://sensorml.com/ont/swe/property/GeodeticLatitude",
                          (label) = "Geodetic Latitude",
                          (uomCode) = "deg",
                          (axisID) = "Lat"
                        ];
                        
                        double lon = 2 [
                          (definition) = "http://sensorml.com/ont/swe/property/Longitude",
                          (label) = "Longitude",
                          (uomCode) = "deg",
                          (axisID) = "Lon"
                        ];

                        double h = 3 [
                          (definition) = "http://sensorml.com/ont/swe/property/HeightAboveEllipsoid",
                          (label) = "Ellipsoidal Height",
                          (uomCode) = "m",
                          (axisID) = "h"
                        ];
                      }
                      TangentPointPosition position = 4;

                      // Yaw Pitch Roll Angles
                      message YawPitchRollAngles {
                        option (definition) = "http://sensorml.com/ont/swe/property/EulerAngles";
                        option (referenceFrame) = "http://www.opengis.net/def/cs/OGC/0/ENU";
                        option (label) = "Yaw Pitch Roll Angles";
                        option (description) = "Euler angles with order of rotation yaw/pitch/roll in rotating frame";

                        float yaw = 1 [
                          (definition) = "http://sensorml.com/ont/swe/property/YawAngle",
                          (label) = "Yaw Angle",
                          (uomCode) = "deg",
                          (axisID) = "Z"
                        ];

                        float pitch = 2 [
                          (definition) = "http://sensorml.com/ont/swe/property/PitchAngle",
                          (label) = "Pitch Angle",
                          (uomCode) = "deg",
                          (axisID) = "Y"
                        ];

                        float roll = 3 [
                          (definition) = "http://sensorml.com/ont/swe/property/RollAngle",
                          (label) = "Roll Angle",
                          (uomCode) = "deg",
                          (axisID) = "X"
                        ];
                      }
                      YawPitchRollAngles angles = 5;
                      
                    }
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update the observation schema
      description: |-
        After a datastream has been created and observations have been associated to it, the server may
        reject certain updates to the schema (e.g., adding or removing result fields, changing UoM, etc.).
        In this case, the `409` response code is used.
      tags:
        - Data Streams
      requestBody:
        description: A single `Observation Schema` resource
        content: &ref_310
          application/json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              oneOf: *ref_57
              required: *ref_58
            examples:
              scalar-omjson:
                summary: Scalar Result - JSON encoding
                value:
                  obsFormat: application/json
                  resultSchema: *ref_59
              scalar-omproto:
                summary: Scalar Result - Protobuf encoding
                value:
                  obsFormat: application/x-protobuf
                  messageSchema: *ref_60
              scalar-swejson:
                summary: Scalar Result - SWE Common Schema with JSON encoding
                value:
                  obsFormat: application/swe+json
                  recordSchema: *ref_61
                  encoding: *ref_62
              scalar-swecsv:
                summary: Scalar Result - SWE Common Schema with CSV encoding
                value:
                  obsFormat: application/swe+csv
                  recordSchema: *ref_63
                  encoding: *ref_64
              geopose-omjson:
                summary: GeoPose Result - JSON encoding
                value:
                  obsFormat: application/json
                  resultSchema: *ref_65
              geopose-swejson:
                summary: GeoPose Result - SWE Common Schema with JSON encoding
                value:
                  obsFormat: application/swe+json
                  recordSchema: *ref_66
                  encoding: *ref_67
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be updated because it conflicts with the existing resource version.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /observations:
    get:
      summary: List all available observations
      description: List or search all observations available from this server endpoint.
      tags:
        - Observations
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: phenomenonTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `phenomenonTime` property that intersects the value of the
            `phenomenonTime` parameter are selected.
          required: false
          schema: *ref_45
          style: form
          explode: false
          examples: *ref_46
        - name: resultTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `resultTime` property that intersects the value of the
            `resultTime` parameter are selected.
          required: false
          schema: *ref_47
          style: form
          explode: false
          examples: *ref_48
        - name: dataStream
          description: |-
            List of data stream local IDs or unique IDs (URI).
            Only resources that are associated to a data stream that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: &ref_285
            description: List of resource local IDs or unique identifiers (URIs).
            oneOf: *ref_10
          explode: false
        - name: system
          description: |-
            List of system local IDs or unique IDs (URI).
            Only resources that are associated to a System that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_70
          explode: false
        - name: foi
          description: |-
            List of feature local IDs or unique IDs (URI).
            Only resources that are associated to a feature of interest that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_71
          explode: false
        - name: observedProperty
          description: |-
            List of property local IDs or unique IDs (URI).
            Only resources that are associated to an observable property that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_72
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_73
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_220
                  items:
                    type: array
                    items:
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: object
                      properties: &ref_74
                        id:
                          description: Local ID of the observation
                          type: string
                          minLength: 1
                          readOnly: true
                        datastream@id:
                          description: Local ID of the datastream that the observation is part of
                          type: string
                          minLength: 1
                          readOnly: true
                        samplingFeature@id:
                          description: Local ID of the sampling feature that is the target of the observation
                          type: string
                          minLength: 1
                        procedure@link:
                          description: Link to the procedure/method used to make the observation
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Link
                          type: object
                          required: *ref_11
                          properties: *ref_12
                        phenomenonTime:
                          description: Time at which the observation result is a valid estimate of the sampling feature property(ies). Defaults to the same value as `resultTime`.
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Time Instant
                          type: string
                          format: date-time
                        resultTime:
                          description: Time at which the observation result was generated.
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Time Instant
                          type: string
                          format: date-time
                        parameters:
                          description: Parameters of the observation. Must be valid according to the parameters schema provided in the datastream metadata.
                          type: object
                        result:
                          description: Result of the observation. Must be valid according to the result schema provided in the datastream metadata.
                        result@link:
                          description: Link to external result data (e.g., large raster dataset served by a tiling service)
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Link
                          type: object
                          required: *ref_11
                          properties: *ref_12
                      required: &ref_75
                        - id
                        - datastream@id
                        - resultTime
                      oneOf: &ref_76
                        - title: Inline result
                          required:
                            - result
                        - title: Link to external result
                          required:
                            - result@link
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_221
                  - items
            application/swe+json:
              schema:
                type: object
                required: items
                properties:
                  items:
                    type: array
                    items:
                      type: object
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /datastreams/{dataStreamId}/observations:
    parameters:
      - name: dataStreamId
        in: path
        description: Local identifier of a Datastream
        required: true
        schema: *ref_56
    get:
      summary: List observations from a specific datastream
      description: List or search all observations available from a datastream.
      tags:
        - Observations
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: phenomenonTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `phenomenonTime` property that intersects the value of the
            `phenomenonTime` parameter are selected.
          required: false
          schema: *ref_45
          style: form
          explode: false
          examples: *ref_46
        - name: resultTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `resultTime` property that intersects the value of the
            `resultTime` parameter are selected.
          required: false
          schema: *ref_47
          style: form
          explode: false
          examples: *ref_48
        - name: foi
          description: |-
            List of feature local IDs or unique IDs (URI).
            Only resources that are associated to a feature of interest that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_71
          explode: false
        - name: observedProperty
          description: |-
            List of property local IDs or unique IDs (URI).
            Only resources that are associated to an observable property that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_72
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: *ref_73
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    post:
      summary: Add an observation
      description: Add a new observation to an existing datastream.
      tags:
        - Observations
      requestBody:
        description: A single `Observation` resource
        content: &ref_78
          application/json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              type: object
              properties: *ref_74
              required: *ref_75
              oneOf: *ref_76
            examples:
              inline:
                id: '1'
                resultTime: '2023-01-01T12:45:56Z'
                result: 123
              external:
                id: '2'
                resultTime: '2024-01-01T12:45:56Z'
                result@link:
                  href: https://data.example.com/link/to/result
                  uid: bbf3623c-8ec0-444e-bc7c-7f51d2a046e1
          application/swe+json:
            schema:
              type: object
          application/swe+csv:
            example: 2023-04-03T12:45:56Z,20.3,1013.25
      responses:
        '201':
          description: Success. New resource created.
          headers: *ref_77
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /observations/{obsId}:
    parameters:
      - name: obsId
        in: path
        description: Local identifier of an Observation
        required: true
        schema: &ref_286
          type: string
          minLength: 1
    get:
      summary: Get an observation by ID
      description: null
      tags:
        - Observations
      responses:
        '200':
          description: OK. Successful request
          content: &ref_298
            application/json:
              schema:
                properties:
                  links:
                    description: Links to related resources
                    $ref: ../schemas/common/commonDefs.json#/$defs/Links
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                required: *ref_75
                oneOf: *ref_76
              examples:
                simple:
                  summary: Scalar Observation (Measure)
                  value:
                    id: 1h6pmb3ntfmogfppknk9aefpvs
                    datastream@id: 958tf25kjm2f6
                    phenomenonTime: '2021-03-15T04:53:34Z'
                    resultTime: '2021-03-15T04:53:34Z'
                    result: 23.5
                location:
                  summary: Vector Observation (Location)
                  value:
                    id: 1125alnna75hafppknk9aefpvs
                    datastream@id: 1vf8i5ois38u8
                    phenomenonTime: '2021-03-15T04:53:34Z'
                    resultTime: '2021-03-15T04:53:34Z'
                    result:
                      lat: -86.5861
                      lon: 34.7304
                      alt: 183
                geopose:
                  summary: GeoPose Observation
                  value:
                    id: maqdpujcj8dkstqhibju0ncmvqqh0k8
                    datastream@id: tm3kijpkaoei6
                    phenomenonTime: '2023-03-15T10:03:34Z'
                    resultTime: '2023-03-15T10:03:34Z'
                    result:
                      position:
                        lat: -86.5861
                        lon: 34.7304
                        h: 183
                      angles:
                        yaw: -124.3
                        pitch: 3.4
                        roll: -5.8
                profile:
                  summary: Profile Observation
                  value:
                    id: 1125alnna75hafppk4845g4s6
                    datastream@id: 1vf8i5ois447g
                    phenomenonTime: '2022-03-15T04:53:34Z'
                    resultTime: '2022-03-15T04:53:34Z'
                    result:
                      - 12.5
                      - 11.3
                      - 10.6
                      - 9.1
                      - 7.4
                      - 5.6
                      - 5.5
                      - 5.5
                      - 5.4
                link:
                  summary: Observation with link to external result
                  value:
                    id: fefaig45w46v5186d6w
                    datastream@id: f44f85rrt
                    foi@id: 55f48g48th
                    phenomenonTime: '2023-04-03T18:45:23Z'
                    resultTime: '2023-04-03T18:45:23Z'
                    result@link:
                      href: https://data.x-ecmwf.int/wms?service=WMS&version=1.1.0&request=GetMap&format=image/tiff&layers=HRES-2T-20230215-0600-T1&bbox=-180,90,180,-90&width=3600&height=1800&srs=EPSG:4326
                      title: Imagery on external WMS server
                      type: image/tiff; application=geotiff
                      if: http://www.opengis.net/def/serviceType/ogc/wms/1.1
                inline-image:
                  summary: Observation with an PNG image encoded using the data URI schema
                  value:
                    id: fefaig45w46v5186d6w
                    datastream@id: f44f85rrt
                    foi@id: 55f48g48th
                    phenomenonTime: '2023-04-03T18:45:23Z'
                    resultTime: '2023-04-03T18:45:23Z'
                    result@link:
                      href: data:image/png;base64,dGhlIGltYWdlIGFzIGJhc2U2NAo=
                      title: Inline PNG image
                      type: image/png
            application/swe+json:
              schema:
                type: object
            application/swe+csv:
              example: 2023-04-03T12:45:56Z,20.3,1013.25
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update an observation
      description: null
      tags:
        - Observations
      requestBody:
        description: A single `Observation` resource
        content: *ref_78
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete an observation
      description: This will delete the observation and remove it from all collections it is associated to.
      tags:
        - Observations
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /controlstreams:
    get:
      summary: List all available control streams
      description: List or search all control streams available from this server endpoint.
      tags:
        - Control Streams
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: issueTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `issueTime` property that intersects the value of the
            `issueTime` parameter are selected.
          required: false
          schema: &ref_82
            oneOf: *ref_0
          style: form
          explode: false
          examples: &ref_83
            instant: *ref_1
            now: *ref_2
            period: *ref_3
            period2: *ref_4
            period3: *ref_5
            period4: *ref_6
            period5: *ref_7
            period6: *ref_8
            latest: *ref_9
        - name: executionTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `executionTime` property that intersects the value of the
            `executionTime` parameter are selected.
          required: false
          schema: &ref_84
            oneOf: *ref_0
          style: form
          explode: false
          examples: &ref_85
            instant: *ref_1
            now: *ref_2
            period: *ref_3
            period2: *ref_4
            period3: *ref_5
            period4: *ref_6
            period5: *ref_7
            period6: *ref_8
            latest: *ref_9
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: system
          description: |-
            List of system local IDs or unique IDs (URI).
            Only resources that are associated to a System that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_70
          explode: false
        - name: foi
          description: |-
            List of feature local IDs or unique IDs (URI).
            Only resources that are associated to a feature of interest that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_71
          explode: false
        - name: controlledProperty
          description: |-
            List of property local IDs or unique IDs (URI).
            Only resources that are associated to a controllable property that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: &ref_99
            description: List of resource local IDs or unique identifiers (URIs).
            oneOf: *ref_10
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_86
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_231
                  items:
                    type: array
                    items:
                      $schema: https://json-schema.org/draft/2020-12/schema
                      allOf: &ref_87
                        - $schema: https://json-schema.org/draft/2020-12/schema
                          type: object
                          properties: *ref_79
                          required: *ref_80
                        - properties:
                            system@link:
                              description: Link to the system receiving the commands
                              readOnly: true
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            inputName:
                              description: Name of the system control input receiving data from this control stream
                              type: string
                            procedure@link:
                              description: Link to the procedure used to execute commands (only provided if all commands in the control stream share the same procedure)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            deployment@link:
                              description: Link to the deployment during which the commands are/were received (only provided if all commands in the control stream share the same deployment)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            featureOfInterest@link:
                              description: Link to the ultimate feature of interest (only provided if all commands in the control stream share the same feature of interest)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            samplingFeature@link:
                              description: Link to the sampling feature (only provided if all commands in the control stream share the same sampling feature)
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link
                              type: object
                              required: *ref_11
                              properties: *ref_12
                            controlledProperties:
                              oneOf:
                                - type: 'null'
                                - description: List of properties that are controllable through this control stream
                                  type: array
                                  minItems: 1
                                  items:
                                    type: object
                                    properties:
                                      definition:
                                        type: string
                                        format: uri
                                      label:
                                        type: string
                                      description:
                                        type: string
                              readOnly: true
                            issueTime:
                              oneOf:
                                - type: 'null'
                                - description: Time extent spanning all issue times of commands in this control stream
                                  readOnly: true
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  title: Time Period
                                  type: array
                                  minItems: 2
                                  maxItems: 2
                                  items: *ref_13
                            executionTime:
                              oneOf:
                                - type: 'null'
                                - description: Time extent spanning all execution times of commands in this control stream
                                  readOnly: true
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  title: Time Period
                                  type: array
                                  minItems: 2
                                  maxItems: 2
                                  items: *ref_13
                            live:
                              oneOf:
                                - type: 'null'
                                - description: Flag indicating if the command channel can currently accept commands
                                  type: boolean
                                  readOnly: true
                            async:
                              description: Flag indicating if the command channel processes commands asynchronously
                              type: boolean
                            schema:
                              description: Schema describing the content of commands in this control stream. The exact syntax of the schema depends on the encoding format.
                              writeOnly: true
                              $schema: https://json-schema.org/draft/2020-12/schema
                              oneOf: &ref_92
                                - title: JSON
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_222
                                    commandFormat:
                                      type: string
                                      const: application/json
                                    parametersSchema:
                                      description: Schema for the command `parameters`.
                                      oneOf: *ref_36
                                    resultSchema:
                                      description: Schema for the inline command results (if any).
                                      oneOf: *ref_36
                                    feasibilityResultSchema:
                                      description: Schema for the feasibility results (if any).
                                      oneOf: *ref_36
                                  required: &ref_223
                                    - commandFormat
                                    - parametersSchema
                                - title: SWE Common
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_224
                                    commandFormat:
                                      type: string
                                    recordSchema:
                                      oneOf: *ref_36
                                    encoding: {}
                                  required: &ref_225
                                    - commandFormat
                                    - recordSchema
                                    - encoding
                                  oneOf: &ref_226
                                    - title: SWE JSON
                                      properties:
                                        commandFormat:
                                          const: application/swe+json
                                        encoding:
                                          description: Parameters of the JSON encoding method
                                          type: object
                                          allOf: *ref_41
                                    - title: SWE Text
                                      properties:
                                        commandFormat:
                                          const: application/swe+text
                                        encoding:
                                          description: Parameters of the text encoding method
                                          type: object
                                          allOf: *ref_42
                                    - title: SWE CSV
                                      properties:
                                        commandFormat:
                                          const: application/swe+csv
                                        encoding:
                                          allOf:
                                            - description: Parameters of the text encoding method
                                              type: object
                                              allOf: *ref_42
                                            - properties:
                                                tokenSeparator:
                                                  const: ','
                                                blockSeparator:
                                                  const: |+

                                    - title: SWE Binary
                                      properties:
                                        commandFormat:
                                          const: application/swe+binary
                                        encoding:
                                          description: Parameters of the binary encoding method
                                          type: object
                                          allOf: *ref_43
                                - title: Protobuf
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_227
                                    commandFormat:
                                      const: application/x-protobuf
                                    messageSchema:
                                      description: Protobuf schema provided as a string or as a link to an external proto file
                                      oneOf:
                                        - title: Inline schema
                                          type: string
                                          minLength: 1
                                        - title: Link to external file
                                          $schema: https://json-schema.org/draft/2020-12/schema
                                          description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
                                          type: object
                                          required: *ref_11
                                          properties: *ref_12
                                  required: &ref_228
                                    - commandFormat
                                    - messageSchema
                                - title: Other format
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_229
                                    commandFormat:
                                      type: string
                                      not:
                                        enum:
                                          - application/json
                                          - application/swe+json
                                          - application/swe+text
                                          - application/swe+binary
                                          - application/x-protobuf
                                    any:
                                      description: Any other properties to describe schema
                                  required: &ref_230
                                    - commandFormat
                              required: &ref_93
                                - commandFormat
                            links:
                              description: Links to related resources
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link Collection
                              type: array
                              minItems: 1
                              items: *ref_44
                      required: &ref_88
                        - name
                        - system@link
                        - controlledProperties
                        - issueTime
                        - executionTime
                        - live
                        - async
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_232
                  - items
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /systems/{systemId}/controlstreams:
    parameters:
      - name: systemId
        in: path
        description: Local identifier of a System
        required: true
        schema: *ref_81
    get:
      summary: List control streams of a specific system
      description: List or search control streams available from a parent system.
      tags:
        - Control Streams
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: issueTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `issueTime` property that intersects the value of the
            `issueTime` parameter are selected.
          required: false
          schema: *ref_82
          style: form
          explode: false
          examples: *ref_83
        - name: executionTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `executionTime` property that intersects the value of the
            `executionTime` parameter are selected.
          required: false
          schema: *ref_84
          style: form
          explode: false
          examples: *ref_85
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: *ref_86
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    post:
      summary: Add a control stream
      description: Add a new control stream to an existing system.
      tags:
        - Control Streams
      requestBody:
        description: A single `ControlStream` resource
        content: &ref_89
          application/json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              allOf: *ref_87
              required: *ref_88
            examples:
              simple:
                summary: PTZ Control
                value:
                  name: Garage Video Camera 001 - PTZ Control
                  inputName: ptz
                  async: false
                  schema:
                    commandFormat: application/json
                    parametersSchema:
                      type: DataRecord
                      fields:
                        - name: pan
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/PanAngle
                          label: Pan Angle
                          description: Rotation of the camera around its vertical axis (i.e., causing the image to translate along its horizontal axis)
                          uom:
                            code: deg
                        - name: tilt
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/PanAngle
                          label: Pan Angle
                          description: Rotation of the camera around its horizontal axis (i.e., causing the image to translate along its vertical axis)
                          uom:
                            code: deg
                        - name: zoom
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/ZoomFactor
                          label: Zoom Factor
                          description: Amount of zoom, 0 being the highest FOV and 100 being the lowest
                          uom:
                            code: '%'
      responses:
        '201':
          description: Success. New resource created.
          headers: *ref_77
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /controlstreams/{controlStreamId}:
    parameters:
      - name: controlStreamId
        in: path
        description: Local identifier of a Control Stream
        required: true
        schema: &ref_91
          type: string
          minLength: 1
    get:
      summary: Get a control stream by ID
      description: null
      tags:
        - Control Streams
      responses:
        '200':
          description: OK. Successful request
          content: &ref_299
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                allOf: *ref_87
                required: *ref_88
              examples:
                simple:
                  summary: PTZ Control
                  value:
                    id: hf62t0dotfd5k
                    name: Garage Video Camera 001 - PTZ Control
                    inputName: ptz
                    system@link:
                      href: https://data.example.org/api/systems/4722256
                      uid: urn:x-ogc:systems:CAM001
                      title: Garage Video Camera 001
                    issueTime:
                      - '2012-06-29T14:32:34Z'
                      - '2012-06-29T14:37:34Z'
                    executionTime:
                      - '2012-06-29T14:32:34Z'
                      - '2012-06-29T14:37:34Z'
                    controlledProperties:
                      - definition: http://sensorml.com/ont/swe/property/PanAngle
                        label: Pan Angle
                      - definition: http://sensorml.com/ont/swe/property/TiltAngle
                        label: Tilt Angle
                      - definition: http://sensorml.com/ont/swe/property/ZoomFactor
                        label: Zoom Factor
                    formats:
                      - application/json
                    live: true
                    async: false
                    links:
                      - rel: commands
                        href: https://data.example.org/api/controls/hf62t0dotfd5k/commands
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update a control stream
      description: null
      tags:
        - Control Streams
      requestBody:
        description: A single `ControlStream` resource
        content: *ref_89
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete a control stream
      description: |-
        This will delete the control stream and remove it from all collections it is associated to.

        If the `cascade` parameter is used, all associated commands and command status are also deleted.
      tags:
        - Control Streams
      parameters:
        - name: cascade
          in: query
          description: If set to true, dependent resources are also deleted.
          required: false
          schema: *ref_90
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /controlstreams/{controlStreamId}/schema:
    parameters:
      - name: controlStreamId
        in: path
        description: Local identifier of a Control Stream
        required: true
        schema: *ref_91
    get:
      summary: Get the command schema
      description: |-
        Get the command schema for a given format.

        The type of command schema returned depends on the command encoding format selected using the `commandFormat` parameter.
      tags:
        - Control Streams
      parameters:
        - name: cmdFormat
          in: query
          description: Media type of the desired command format
          required: false
          schema: &ref_287
            type: string
      responses:
        '200':
          description: OK. Successful request
          content: &ref_300
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                oneOf: *ref_92
                required: *ref_93
              examples:
                ptz-json:
                  summary: PTZ Control - JSON
                  value:
                    commandFormat: application/json
                    parametersSchema: &ref_94
                      type: DataRecord
                      fields:
                        - name: pan
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/PanAngle
                          label: Pan Angle
                          description: Rotation of the camera around its vertical axis (i.e., causing the image to translate along its horizontal axis)
                          uom:
                            code: deg
                        - name: tilt
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/PanAngle
                          label: Pan Angle
                          description: Rotation of the camera around its horizontal axis (i.e., causing the image to translate along its vertical axis)
                          uom:
                            code: deg
                        - name: zoom
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/ZoomFactor
                          label: Zoom Factor
                          description: Amount of zoom, 0 being the highest FOV and 100 being the lowest
                          uom:
                            code: '%'
                ptz-swejson:
                  summary: PTZ Control - SWE JSON
                  value:
                    commandFormat: application/swe+json
                    recordSchema: &ref_95
                      type: DataRecord
                      fields:
                        - name: time
                          type: Time
                          definition: http://www.opengis.net/def/property/OGC/0/IssueTime
                          referenceFrame: http://www.opengis.net/def/trs/BIPM/0/UTC
                          label: Issue Time
                          uom:
                            href: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian
                        - name: pan
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/PanAngle
                          label: Pan Angle
                          description: Rotation of the camera around its vertical axis (i.e., causing the image to translate along its horizontal axis)
                          uom:
                            code: deg
                        - name: tilt
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/PanAngle
                          label: Tilt Angle
                          description: Rotation of the camera around its horizontal axis (i.e., causing the image to translate along its vertical axis)
                          uom:
                            code: deg
                        - name: zoom
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/ZoomFactor
                          label: Zoom Factor
                          description: Amount of zoom, 0 being the highest FOV and 100 being the lowest
                          uom:
                            code: '%'
                    encoding: &ref_96
                      type: JSONEncoding
                ptz-swecsv:
                  summary: PTZ Control - SWE CSV
                  value:
                    commandFormat: application/swe+csv
                    recordSchema: &ref_97
                      type: DataRecord
                      fields:
                        - name: time
                          type: Time
                          definition: http://www.opengis.net/def/property/OGC/0/IssueTime
                          referenceFrame: http://www.opengis.net/def/trs/BIPM/0/UTC
                          label: Issue Time
                          uom:
                            href: http://www.opengis.net/def/uom/ISO-8601/0/Gregorian
                        - name: pan
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/PanAngle
                          label: Pan Angle
                          description: Rotation of the camera around its vertical axis (i.e., causing the image to translate along its horizontal axis)
                          uom:
                            code: deg
                        - name: tilt
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/TiltAngle
                          label: Pan Angle
                          description: Rotation of the camera around its horizontal axis (i.e., causing the image to translate along its vertical axis)
                          uom:
                            code: deg
                        - name: zoom
                          type: Quantity
                          definition: http://sensorml.com/ont/swe/property/ZoomFactor
                          label: Zoom Factor
                          description: Amount of zoom, 0 being the highest FOV and 100 being the lowest
                          uom:
                            code: '%'
                    encoding: &ref_98
                      type: TextEncoding
                      collapseWhiteSpaces: true
                      decimalSeparator: .
                      tokenSeparator: ','
                      blockSeparator: |+

            application/schema+json:
              examples:
                scalar-omjson:
                  summary: PTZ Control - JSON Schema
                  value:
                    $schema: https://json-schema.org/draft/2020-12/schema
                    allOf:
                      - $ref: https://raw.githubusercontent.com/opengeospatial/ogcapi-connected-systems/master/api/part2/openapi/schemas/json/command.json
                      - properties:
                          parameters:
                            type: object
                            properties:
                              pan:
                                type: number
                                title: Pan Angle
                                description: Rotation of the camera around its vertical axis (i.e., causing the image to translate along its horizontal axis)
                                '@swe.definition': http://sensorml.com/ont/swe/property/PanAngle
                                '@swe.uomCode': deg
                              tilt:
                                type: number
                                title: Tilt Angle
                                description: Rotation of the camera around its horizontal axis (i.e., causing the image to translate along its vertical axis)
                                '@swe.definition': http://sensorml.com/ont/swe/property/TiltAngle
                                '@swe.uomCode': Cel
                              zoom:
                                type: number
                                title: Zoom Factor
                                description: Amount of zoom, 0 being the highest FOV and 100 being the lowest
                                '@swe.definition': http://sensorml.com/ont/swe/property/ZoomFactor
                                '@swe.uomCode': '%'
                            required:
                              - pan
                              - tilt
                              - zoom
                        required:
                          - params
            text/plain:
              examples:
                scalar-proto:
                  summary: PTZ Control - Protobuf Schema
                  value: |-
                    syntax = "proto3";
                    import "swe_options.proto";
                    import "google/protobuf/timestamp.proto";

                    message Command {

                      // internal datastream ID
                      optional int64 controlstream_id = 1 [
                        default = 0
                      ];

                      // internal FOI ID
                      optional int64 foi_id = 2 [
                        default = 0,
                        (definition) = "http://sensorml.com/ont/swe/property/FoiID"
                      ];

                      Timestamp issue_time = 3 [
                        (definition) = "http://www.opengis.net/def/property/OGC/0/IssueTime",
                        (referenceFrame) = "http://www.opengis.net/def/trs/BIPM/0/UTC",
                        (label) = "Issue Time"
                      ];

                      message CommandParams {
                        float pan = 1 [
                          (definition) = "http://sensorml.com/ont/swe/property/PanAngle",,
                          (label) = "Pan Angle"
                          (uomCode) = "deg"
                        ];
                        float tilt = 2 [
                          (definition) = "http://sensorml.com/ont/swe/property/TiltAngle",,
                          (label) = "Tilt Angle"
                          (uomCode) = "deg"
                        ];
                        float zoom = 3 [
                          (definition) = "http://sensorml.com/ont/swe/property/ZoomFactor",,
                          (label) = "Zoom Factor"
                          (uomCode) = "%"
                        ];
                      }
                      CommandParams params = 4;
                    }
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update the command schema
      description: |-
        After a control stream has been created and commands have been issued through it, the server may
        reject certain updates to the schema (e.g., adding or removing parameters, changing UoM, etc.).
        In this case, the `409` response code is used.
      tags:
        - Control Streams
      requestBody:
        description: A single `CommandSchema` resource
        content: &ref_311
          application/json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              oneOf: *ref_92
              required: *ref_93
            examples:
              ptz-json:
                summary: PTZ Control - Command JSON
                value:
                  commandFormat: application/json
                  parametersSchema: *ref_94
              ptz-swejson:
                summary: PTZ Control - SWE JSON
                value:
                  commandFormat: application/swe+json
                  recordSchema: *ref_95
                  encoding: *ref_96
              ptz-swecsv:
                summary: PTZ Control - SWE CSV
                value:
                  commandFormat: application/swe+csv
                  recordSchema: *ref_97
                  encoding: *ref_98
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be updated because it conflicts with the existing resource version.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /commands:
    get:
      summary: List all available commands
      description: List or search all commands available from this server endpoint.
      tags:
        - Commands
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: issueTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `issueTime` property that intersects the value of the
            `issueTime` parameter are selected.
          required: false
          schema: *ref_82
          style: form
          explode: false
          examples: *ref_83
        - name: executionTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `executionTime` property that intersects the value of the
            `executionTime` parameter are selected.
          required: false
          schema: *ref_84
          style: form
          explode: false
          examples: *ref_85
        - name: statusCode
          description: |-
            List of command status codes.
            Only command resources whose current status matches one of the provided status codes are selected.
          in: query
          required: false
          schema: &ref_100
            type: array
            minItems: 1
            items:
              type: string
              enum:
                - PENDING
                - ACCEPTED
                - REJECTED
                - SCHEDULED
                - UPDATED
                - CANCELED
                - EXECUTING
                - FAILED
                - COMPLETED
          explode: false
        - name: sender
          description: |-
            List of sender IDs.
            Only command resources issued by one of the specified senders are selected.
          in: query
          required: false
          schema: &ref_101
            type: array
            minItems: 1
            items:
              type: string
          explode: false
        - name: controlStream
          description: |-
            List of control stream local IDs or unique IDs (URI).
            Only resources that are associated to a control stream that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: &ref_288
            description: List of resource local IDs or unique identifiers (URIs).
            oneOf: *ref_10
          explode: false
        - name: system
          description: |-
            List of system local IDs or unique IDs (URI).
            Only resources that are associated to a System that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_70
          explode: false
        - name: foi
          description: |-
            List of feature local IDs or unique IDs (URI).
            Only resources that are associated to a feature of interest that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_71
          explode: false
        - name: controlledProperty
          description: |-
            List of property local IDs or unique IDs (URI).
            Only resources that are associated to a controllable property that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_99
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_102
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_233
                  items:
                    type: array
                    items:
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: object
                      properties: &ref_103
                        id:
                          description: Local ID of the command
                          type: string
                          minLength: 1
                          readOnly: true
                        controlstream@id:
                          description: Local ID of the control stream that the command is part of. This can be omitted when posting the command to a specific control stream URL.
                          type: string
                          minLength: 1
                          readOnly: true
                        samplingFeature@id:
                          description: Local ID of the sampling feature that is the target of the command
                          type: string
                          minLength: 1
                        procedure@link:
                          description: Link to the procedure/method used to process the command
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Link
                          type: object
                          required: *ref_11
                          properties: *ref_12
                        issueTime:
                          description: Time at which the command was issued. If omitted on creation, the server sets it to the time the request was received.
                          readOnly: true
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Time Instant
                          type: string
                          format: date-time
                        executionTime:
                          description: Time period during which the command was executed
                          readOnly: true
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Time Period
                          type: array
                          minItems: 2
                          maxItems: 2
                          items: *ref_13
                        sender:
                          description: Identifier of the person or entity who submitted the command
                          type: string
                          minLength: 1
                          readOnly: true
                        currentStatus:
                          description: Current status of the command
                          readOnly: true
                          $schema: https://json-schema.org/draft/2020-12/schema
                          type: string
                          oneOf: &ref_107
                            - const: PENDING
                              description: The command is pending, meaning it has been received by the system but no decision to accept or reject it has been taken.
                            - const: ACCEPTED
                              description: The command was accepted by the receiving system. This usually means that the command has passed the first validation steps but note that it can still be rejected later or fail during execution. An estimated execution time can optionally be provided using the `executionTime` property.
                            - const: REJECTED
                              description: The command was rejected by the receiving system. It won't be executed at all and the `message` property provides the reason for the rejection. This is a final state. No further status updates will be sent.
                            - const: SCHEDULED
                              description: The command was validated and effectively scheduled by the receiving system. When this status code is used, the scheduled execution time must be provided using the `executionTime` property. Note that systems are not required to notify the planned execution time before execution.
                            - const: UPDATED
                              description: An update to the command was received and accepted. This code must be used if the system supports task updates. See the `ACCEPTED` status code for other details.
                            - const: CANCELED
                              description: The command was canceled by an authorized user. This code must be used if the system supports user driven task cancellations. The `REJECTED` and `FAILED` status codes are used instead if the command was canceled by the receiving system. This is a final state. No further status updates will be sent.
                            - const: EXECUTING
                              description: The command is currently being executed by the receiving system. The status message can provide more information about the current progress using the `percentCompletion` and `message` properties. A system can send several status updates with this code but different time stamps to report progress incrementally (e.g., for multi-stage executions). In particular, the progress percentage and the end of the (estimated) execution time period can be refined at each update.
                            - const: FAILED
                              description: The command has failed during execution. The `message` property provides the reason for failure. This is a final state. No further status updates will be sent.
                            - const: COMPLETED
                              description: The command has completed after a successful execution. The actual execution time must be provided using the `executionTime` property. This is a final state. No further status updates will be sent.
                        parameters:
                          description: Command parameters. Must be valid according to the schema provided in the control stream metadata
                      required: &ref_104
                        - id
                        - controlstream@id
                        - issueTime
                        - parameters
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_234
                  - items
            application/swe+json:
              schema:
                type: object
                required: items
                properties:
                  items:
                    type: array
                    items:
                      type: object
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /controlstreams/{controlStreamId}/commands:
    parameters:
      - name: controlStreamId
        in: path
        description: Local identifier of a Control Stream
        required: true
        schema: *ref_91
    get:
      summary: List commands from a specific control stream
      description: List or search all commands received in a specific control stream.
      tags:
        - Commands
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: issueTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `issueTime` property that intersects the value of the
            `issueTime` parameter are selected.
          required: false
          schema: *ref_82
          style: form
          explode: false
          examples: *ref_83
        - name: executionTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `executionTime` property that intersects the value of the
            `executionTime` parameter are selected.
          required: false
          schema: *ref_84
          style: form
          explode: false
          examples: *ref_85
        - name: statusCode
          description: |-
            List of command status codes.
            Only command resources whose current status matches one of the provided status codes are selected.
          in: query
          required: false
          schema: *ref_100
          explode: false
        - name: sender
          description: |-
            List of sender IDs.
            Only command resources issued by one of the specified senders are selected.
          in: query
          required: false
          schema: *ref_101
          explode: false
        - name: foi
          description: |-
            List of feature local IDs or unique IDs (URI).
            Only resources that are associated to a feature of interest that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_71
          explode: false
        - name: controlledProperty
          description: |-
            List of property local IDs or unique IDs (URI).
            Only resources that are associated to a controllable property that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_99
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: *ref_102
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    post:
      summary: Send a command
      description: Send a new command to an existing control stream.
      tags:
        - Commands
      requestBody:
        description: A single `Command` resource
        content: &ref_105
          application/json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              type: object
              properties: *ref_103
              required: *ref_104
            examples:
              ptz:
                summary: PTZ Command
                value:
                  parameters:
                    pan: -10
                    tilt: 23
                    zoom: 0.4
          application/swe+csv:
            example: 2021-03-15T04:53:34.023Z,-10,23,0.4
      responses:
        '200':
          description: Success. Several new resources created. (Only sent if the payload contained an array of resources).
          content: &ref_301
            application/json:
              schema:
                type: object
                required:
                  - items
                properties:
                  items:
                    description: Array of resource URIs
                    type: array
                    items:
                      type: string
                      format: uri
              example:
                - https://data.example.org/api/{collection_path}/546861
                - https://data.example.org/api/{collection_path}/546862
                - https://data.example.org/api/{collection_path}/546863
        '201':
          description: Success. New resource created.
          headers: *ref_77
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /commands/{cmdId}:
    parameters:
      - name: cmdId
        in: path
        description: Local identifier of a Command
        required: true
        schema: &ref_106
          type: string
          minLength: 1
    get:
      summary: Get a command by ID
      description: null
      tags:
        - Commands
      responses:
        '200':
          description: OK. Successful request
          content: &ref_302
            application/json:
              schema:
                properties:
                  links:
                    description: Links to related resources
                    $ref: ../schemas/common/commonDefs.json#/$defs/Links
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                required: *ref_104
              examples:
                ptz:
                  summary: PTZ Command
                  value:
                    id: 1125alnna75hafppknk9aefpvs
                    controlstream@id: hf62t0dotfd5k
                    sender: user01
                    issueTime: '2021-03-15T04:53:34.248Z'
                    executionTime:
                      - '2021-03-15T04:53:34.543Z'
                      - '2021-03-15T04:53:36.021Z'
                    currentStatus: COMPLETED
                    parameters:
                      pan: -10
                      tilt: 23
                      zoom: 0.4
            application/swe+csv:
              example: 2021-03-15T04:53:34.248Z,-10,23,0.4
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update a command
      description: null
      tags:
        - Commands
      requestBody:
        description: A single `Command` resource
        content: *ref_105
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete a command
      description: This will delete the command and remove it from all collections it is associated to.
      tags:
        - Commands
      parameters:
        - name: cmdId
          in: path
          description: Local identifier of a Command
          required: true
          schema: *ref_106
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /commands/{cmdId}/status:
    parameters:
      - name: cmdId
        in: path
        description: Local identifier of a Command
        required: true
        schema: *ref_106
    get:
      summary: List command status reports
      description: List or search all status reports associated to a given command
      tags:
        - Commands
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: reportTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `reportTime` property that intersects the value of the
            `reportTime` parameter are selected.
          required: false
          schema: &ref_289
            oneOf: *ref_0
          style: form
          explode: false
          examples: &ref_290
            instant: *ref_1
            now: *ref_2
            period: *ref_3
            period2: *ref_4
            period3: *ref_5
            period4: *ref_6
            period5: *ref_7
            period6: *ref_8
            latest: *ref_9
        - name: statusCode
          description: |-
            List of command status codes.
            Only command resources whose current status matches one of the provided status codes are selected.
          in: query
          required: false
          schema: *ref_100
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_303
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_236
                  items:
                    type: array
                    items:
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: object
                      properties: &ref_235
                        id:
                          description: Local identifier of the status report
                          type: string
                          minLength: 1
                          readOnly: true
                        command@id:
                          description: Local identifier of the command that this report applies to
                          type: string
                          minLength: 1
                          readOnly: true
                        reportTime:
                          description: Time at which this report was generated. If omitted on creation, the server sets it to the time the request was received.
                          readOnly: true
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Time Instant
                          type: string
                          format: date-time
                        statusCode:
                          description: Current status code
                          $schema: https://json-schema.org/draft/2020-12/schema
                          type: string
                          oneOf: *ref_107
                        percentCompletion:
                          description: Current progress expressed as a percentage of total task execution
                          type: number
                          minimum: 0
                          maximum: 100
                        executionTime:
                          description: Time period during which the command was executed or is scheduled to be executed (depending on status code)
                          $schema: https://json-schema.org/draft/2020-12/schema
                          title: Time Period
                          type: array
                          minItems: 2
                          maxItems: 2
                          items: *ref_13
                        message:
                          description: Human readable message providing more details on the current status (can be both an error or information message depending on the status code)
                          type: string
                          minLength: 1
                        results:
                          description: New result(s) of the command available at the time of the progress report (can be a partial result)
                          type: array
                          items:
                            $schema: https://json-schema.org/draft/2020-12/schema
                            type: object
                            properties: &ref_110
                              id:
                                description: Local identifier of the result resource
                                type: string
                                minLength: 1
                                readOnly: true
                              command@id:
                                description: Local identifier of the command that this result is associated to
                                type: string
                                minLength: 1
                                readOnly: true
                            required: &ref_111
                              - id
                              - command@id
                            oneOf: &ref_112
                              - title: Inline result
                                properties:
                                  id: {}
                                  command@id: {}
                                  data:
                                    description: Inline JSON data encoded according to the control stream result schema
                                required:
                                  - data
                              - title: Link to a single observation
                                properties:
                                  id: {}
                                  command@id: {}
                                  observation@link:
                                    description: Link to an observation resulting from the execution of the command
                                    $schema: https://json-schema.org/draft/2020-12/schema
                                    title: Link
                                    type: object
                                    required: *ref_11
                                    properties: *ref_12
                                required:
                                  - observation@link
                              - title: Link to a set of observations
                                properties:
                                  id: {}
                                  command@id: {}
                                  observationSet@link:
                                    description: Link to a set of observations resulting from the execution of the command
                                    $schema: https://json-schema.org/draft/2020-12/schema
                                    title: Link
                                    type: object
                                    required: *ref_11
                                    properties: *ref_12
                                required:
                                  - observationSet@link
                              - title: Link to a datastream
                                properties:
                                  id: {}
                                  command@id: {}
                                  datastream@link:
                                    description: Link to a datastream containing observations resulting from the execution of the command
                                    allOf:
                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                        title: Link
                                        description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
                                        type: object
                                        required: *ref_11
                                        properties: *ref_12
                                      - properties:
                                          resultTime:
                                            description: Time range during which the resulting observations were generated (If not provided, the entire datastream is assumed to be the result)
                                            $schema: https://json-schema.org/draft/2020-12/schema
                                            title: Time Period
                                            type: array
                                            minItems: 2
                                            maxItems: 2
                                            items: *ref_13
                                required:
                                  - datastream@link
                              - title: Link to an external dataset
                                properties:
                                  id: {}
                                  command@id: {}
                                  external@link:
                                    description: Link to an external dataset containing the result(s) of the command
                                    $schema: https://json-schema.org/draft/2020-12/schema
                                    title: Link
                                    type: object
                                    required: *ref_11
                                    properties: *ref_12
                                required:
                                  - external@link
                      required: &ref_108
                        - id
                        - command@id
                        - reportTime
                        - statusCode
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_237
                  - items
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    post:
      summary: Add a command status report
      description: Add a new status report related to a specific command.
      tags:
        - Commands
      requestBody:
        description: A single `CommandStatus` resource
        content: &ref_109
          application/json:
            schema:
              properties:
                links:
                  description: Links to related resources
                  $ref: ../schemas/common/commonDefs.json#/$defs/Links
              $schema: https://json-schema.org/draft/2020-12/schema
              type: object
              required: *ref_108
      responses:
        '201':
          description: Success. New resource created.
          headers: *ref_77
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /commands/{cmdId}/status/{statusId}:
    parameters:
      - name: cmdId
        in: path
        description: Local identifier of a Command
        required: true
        schema: *ref_106
      - name: statusId
        in: path
        description: Local identifier of a Status Report
        required: true
        schema: &ref_291
          type: string
          minLength: 1
    get:
      summary: Get a status report by ID
      description: null
      tags:
        - Commands
      responses:
        '200':
          description: OK. Successful request
          content: &ref_304
            application/json:
              schema:
                properties:
                  links:
                    description: Links to related resources
                    $ref: ../schemas/common/commonDefs.json#/$defs/Links
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                required: *ref_108
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update a command status report
      description: null
      tags:
        - Commands
      requestBody:
        description: A single `CommandStatus` resource
        content: *ref_109
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete a command status report
      tags:
        - Commands
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /commands/{cmdId}/result:
    parameters:
      - name: cmdId
        in: path
        description: Local identifier of a Command
        required: true
        schema: *ref_106
    get:
      summary: List command results
      description: List or search all result items associated to a given command.
      tags:
        - Commands
      parameters:
        - name: id
          description: |-
            List of resource local IDs or unique IDs (URI).
            Only resources that have one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_68
          explode: false
          examples: *ref_69
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_305
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_238
                  items:
                    type: array
                    items:
                      $schema: https://json-schema.org/draft/2020-12/schema
                      type: object
                      properties: *ref_110
                      required: *ref_111
                      oneOf: *ref_112
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_239
                  - items
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    post:
      summary: Add a command result
      description: Add a new result generated in response to a specific command.
      tags:
        - Commands
      requestBody:
        description: A single `CommandResult` resource
        content: &ref_113
          application/json:
            schema:
              allOf:
                - $schema: https://json-schema.org/draft/2020-12/schema
                  type: object
                  properties: *ref_110
                  required: *ref_111
                  oneOf: *ref_112
                - properties:
                    links:
                      description: Links to related resources
                      $schema: https://json-schema.org/draft/2020-12/schema
                      title: Link Collection
                      type: array
                      minItems: 1
                      items: *ref_44
      responses:
        '201':
          description: Success. New resource created.
          headers: *ref_77
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /commands/{cmdId}/result/{resultId}:
    parameters:
      - name: cmdId
        in: path
        description: Local identifier of a Command
        required: true
        schema: *ref_106
      - name: resultId
        in: path
        description: Local identifier of a Command Result
        required: true
        schema: &ref_292
          type: string
          minLength: 1
    get:
      summary: Get a command result by ID
      description: null
      tags:
        - Commands
      responses:
        '200':
          description: OK. Successful request
          content: &ref_306
            application/json:
              schema:
                allOf:
                  - $schema: https://json-schema.org/draft/2020-12/schema
                    type: object
                    properties: *ref_110
                    required: *ref_111
                    oneOf: *ref_112
                  - properties:
                      links:
                        description: Links to related resources
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: Link Collection
                        type: array
                        minItems: 1
                        items: *ref_44
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update a command result
      description: null
      tags:
        - Commands
      requestBody:
        description: A single `CommandResult` resource
        content: *ref_113
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete a command result
      tags:
        - Commands
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /systemEvents:
    get:
      summary: List all system events
      description: List or search events about any system.
      tags:
        - System Events
      parameters:
        - name: datetime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `time` property that intersects the value of the
            `datetime` parameter are selected.
          required: false
          schema: &ref_125
            oneOf: *ref_0
          style: form
          explode: false
          examples: &ref_126
            instant: *ref_1
            now: *ref_2
            period: *ref_3
            period2: *ref_4
            period3: *ref_5
            period4: *ref_6
            period5: *ref_7
            period6: *ref_8
            latest: *ref_9
        - name: eventType
          description: |-
            List of event types.
            Only event resources with a type that matches one of the provided types are selected.
          in: query
          required: false
          schema: &ref_127
            type: array
            minItems: 1
            items:
              type: string
          explode: false
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: system
          description: |-
            List of system local IDs or unique IDs (URI).
            Only resources that are associated to a System that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_70
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_128
            application/json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_245
                  items:
                    type: array
                    items:
                      $schema: https://json-schema.org/draft/2020-12/schema
                      allOf: &ref_129
                        - $schema: https://json-schema.org/draft/2020-12/schema
                          description: A time tagged event with description and relevant property values.
                          type: object
                          allOf: &ref_138
                            - $schema: https://json-schema.org/draft/2020-12/schema
                              description: Base substitution groups for all SWE Common objects with identification metadata
                              type: object
                              allOf: *ref_114
                            - properties:
                                definition:
                                  description: Type of event (semantic link)
                                  type: string
                                  format: uri
                                identifiers:
                                  description: Additional identifiers for the event, useful for discovery.
                                  type: array
                                  items:
                                    type: object
                                    properties: &ref_115
                                      definition:
                                        description: Type of identifier/classifier (semantic link)
                                        type: string
                                        format: uri
                                      label:
                                        description: Human readable label for this identifier/classifier
                                        type: string
                                        minLength: 1
                                      codeSpace:
                                        description: URI of codespace defining the possible values for this identifier/classifier
                                        type: string
                                        format: uri
                                      value:
                                        description: Actual identifier/classifier value
                                        type: string
                                        minLength: 1
                                    required: &ref_116
                                      - label
                                      - value
                                    unevaluatedProperties: false
                                classifiers:
                                  description: Additional classifiers for the event, useful for discovery.
                                  type: array
                                  items:
                                    type: object
                                    properties: *ref_115
                                    required: *ref_116
                                    unevaluatedProperties: false
                                contacts:
                                  description: The list of contacts relevant to this event
                                  type: array
                                  items:
                                    $schema: https://json-schema.org/draft/2020-12/schema
                                    type: object
                                    properties: &ref_132
                                      individualName:
                                        type: string
                                      organisationName:
                                        type: string
                                      positionName:
                                        type: string
                                      contactInfo:
                                        type: object
                                        properties: &ref_117
                                          phone:
                                            type: object
                                            properties: &ref_118
                                              voice:
                                                type: string
                                              facsimile:
                                                type: string
                                            unevaluatedProperties: false
                                          address:
                                            type: object
                                            properties: &ref_119
                                              deliveryPoint:
                                                type: string
                                              city:
                                                type: string
                                              administrativeArea:
                                                type: string
                                              postalCode:
                                                type: string
                                              country:
                                                type: string
                                              electronicMailAddress:
                                                type: string
                                                format: email
                                            unevaluatedProperties: false
                                          website:
                                            type: string
                                          hoursOfService:
                                            type: string
                                          contactInstructions:
                                            type: string
                                        unevaluatedProperties: false
                                      role:
                                        type: string
                                        format: uri
                                    unevaluatedProperties: false
                                    required: &ref_133
                                      - role
                                    oneOf: &ref_134
                                      - title: Individual
                                        required:
                                          - individualName
                                      - title: Organization
                                        required:
                                          - organisationName
                                    $defs: &ref_135
                                      Contact: &ref_242
                                        type: object
                                        properties: *ref_117
                                        unevaluatedProperties: false
                                      Phone: &ref_240
                                        type: object
                                        properties: *ref_118
                                        unevaluatedProperties: false
                                      Address: &ref_241
                                        type: object
                                        properties: *ref_119
                                        unevaluatedProperties: false
                                documentation:
                                  description: Additional documentation relevant to this event
                                  type: array
                                  items:
                                    $schema: https://json-schema.org/draft/2020-12/schema
                                    type: object
                                    properties: &ref_136
                                      role:
                                        description: Type of document (semantic link)
                                        type: string
                                        format: uri
                                      name:
                                        description: Name of the document
                                        type: string
                                      description:
                                        description: Human readable description of the document
                                        type: string
                                      link:
                                        description: URI of the document (Favor a URL if the document is directly accessible online)
                                        $schema: https://json-schema.org/draft/2020-12/schema
                                        title: Link
                                        type: object
                                        required: *ref_11
                                        properties: *ref_12
                                    unevaluatedProperties: false
                                    required: &ref_137
                                      - name
                                      - link
                                time:
                                  description: Time of the event
                                  oneOf: &ref_243
                                    - $schema: https://json-schema.org/draft/2020-12/schema
                                      title: Time Instant
                                      type: string
                                      format: date-time
                                    - $schema: https://json-schema.org/draft/2020-12/schema
                                      title: Time Period
                                      type: array
                                      minItems: 2
                                      maxItems: 2
                                      items: *ref_13
                                properties:
                                  description: A list of additional properties of interest to the event (e.g., calibration values, condition category, error codes, etc).
                                  type: array
                                  items:
                                    oneOf: &ref_131
                                      - oneOf: *ref_120
                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                        description: Implementation of a mathematical vector composed of a list of scalar coordinates expressed in the mandatory reference frame.
                                        type: object
                                        allOf: *ref_121
                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                        description: Implementation of ISO-11404 Array datatype. This defines an array of identical data components with a elementCount. Values are given as a block and can be encoded in different ways
                                        allOf: *ref_122
                                        $defs: *ref_123
                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                        description: Implementation of ISO-11404 Array datatype. This defines an array of identical data components with a elementCount. Values are given as a block and can be encoded in different ways
                                        type: object
                                        allOf: *ref_124
                                configuration:
                                  description: Configuration settings adjusted during the event.
                                  $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  properties: &ref_141
                                    setValues:
                                      type: array
                                      minItems: 1
                                      items:
                                        type: object
                                        properties:
                                          ref:
                                            type: string
                                            pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
                                          value:
                                            oneOf:
                                              - title: Number
                                                type: number
                                              - title: String
                                                type: string
                                        required:
                                          - ref
                                          - value
                                        additionalProperties: false
                                    setArrayValues:
                                      type: array
                                      minItems: 1
                                      items:
                                        type: object
                                        properties:
                                          ref:
                                            type: string
                                            pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
                                          value:
                                            type: array
                                        required:
                                          - ref
                                          - value
                                        additionalProperties: false
                                    setModes:
                                      type: array
                                      minItems: 1
                                      items:
                                        type: object
                                        properties:
                                          ref:
                                            type: string
                                            pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
                                          value:
                                            type: string
                                        required:
                                          - ref
                                          - value
                                        additionalProperties: false
                                    setConstraints:
                                      type: array
                                      minItems: 1
                                      items:
                                        allOf:
                                          - properties:
                                              ref:
                                                type: string
                                                pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
                                          - oneOf: &ref_244
                                              - description: Defines permitted values for the component, as an enumerated list of tokens or a regular expression pattern
                                                type: object
                                                oneOf: *ref_22
                                              - description: Defines the permitted values for the component as an enumerated list and/or a list of inclusive ranges
                                                type: object
                                                properties: *ref_17
                                                anyOf: *ref_18
                                              - description: Defines the permitted values for the component, as a time range or an enumerated list of time values
                                                type: object
                                                properties: *ref_25
                                                anyOf: *ref_26
                                        required:
                                          - type
                                          - ref
                                        additionalProperties: true
                                    setStatus:
                                      type: array
                                      minItems: 1
                                      items:
                                        type: object
                                        properties:
                                          ref:
                                            type: string
                                            pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
                                          value:
                                            type: string
                                            enum:
                                              - enabled
                                              - disabled
                                        required:
                                          - ref
                                          - value
                                        additionalProperties: false
                              required:
                                - label
                                - time
                        - properties:
                            id:
                              readOnly: true
                            links:
                              description: Links to related resources
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link Collection
                              type: array
                              minItems: 1
                              items: *ref_44
                          required:
                            - definition
                            - label
                            - time
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_246
                  - items
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /systems/{systemId}/events:
    parameters:
      - name: systemId
        in: path
        description: Local identifier of a System
        required: true
        schema: *ref_81
    get:
      summary: List events of a specific system
      description: List or search events about the parent system.
      tags:
        - System Events
      parameters:
        - name: datetime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `time` property that intersects the value of the
            `datetime` parameter are selected.
          required: false
          schema: *ref_125
          style: form
          explode: false
          examples: *ref_126
        - name: eventType
          description: |-
            List of event types.
            Only event resources with a type that matches one of the provided types are selected.
          in: query
          required: false
          schema: *ref_127
          explode: false
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: system
          description: |-
            List of system local IDs or unique IDs (URI).
            Only resources that are associated to a System that has one of the provided identifiers are selected.
          in: query
          required: false
          schema: *ref_70
          explode: false
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: *ref_128
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    post:
      summary: Publish a system event
      description: Publish a new event about a specific system.
      tags:
        - System Events
      requestBody:
        description: One or more system event resources
        required: true
        content: &ref_312
          application/json:
            schema:
              oneOf:
                - title: Single Event
                  $schema: https://json-schema.org/draft/2020-12/schema
                  allOf: *ref_129
                - title: Multiple Events
                  type: array
                  minItems: 1
                  items:
                    $schema: https://json-schema.org/draft/2020-12/schema
                    allOf: *ref_129
            examples:
              simple:
                summary: Calibration Event
                value:
                  resultTime: '2021-03-15T04:53:34Z'
                  result: 23.5
      responses:
        '201':
          description: Success. New resource created.
          headers: *ref_77
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /systems/{systemId}/events/{eventId}:
    parameters:
      - name: systemId
        in: path
        description: Local identifier of a System
        required: true
        schema: *ref_81
      - name: eventId
        in: path
        description: Local identifier of a System Event
        required: true
        schema: &ref_293
          type: string
          minLength: 1
    get:
      summary: Get a system event by ID
      description: null
      tags:
        - System Events
      responses:
        '200':
          description: OK. Successful request
          content: &ref_307
            application/sml+json:
              schema:
                properties:
                  links:
                    description: Links to related resources
                    $ref: ../schemas/common/commonDefs.json#/$defs/Links
                $schema: https://json-schema.org/draft/2020-12/schema
                allOf: *ref_129
              examples:
                simple:
                  summary: Scalar Observation (Measure)
                  value:
                    id: e5ce3b97-0fe2-4f92-a631-4bba0bd82fb1
                    label: Deployment
                    definition: https://vocab.nerc.ac.uk/collection/W03/current/W030002/
                    time: '2015-10-12T12:02:00.000Z'
                    documentation:
                      - name: log
                        link:
                          href: http://trios.de/lisa3075_installation.log
                    links:
                      - href: https://data.example.com/link/to/resource
                        type: application/json
                        title: Resource Name
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update a system event
      tags:
        - System Events
      requestBody:
        description: A single `SystemEvent` resource
        content: &ref_313
          application/json:
            schema:
              properties:
                links:
                  description: Links to related resources
                  $ref: ../schemas/common/commonDefs.json#/$defs/Links
              $schema: https://json-schema.org/draft/2020-12/schema
              allOf: *ref_129
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete a system event
      tags:
        - System Events
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /systems/{systemId}/history:
    get:
      summary: List system history
      description: List or search historized descriptions of the parent system.
      tags:
        - System History
      parameters:
        - name: validTime
          in: query
          description: |-
            Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
            Intervals may be bounded or half-bounded (double-dots at start or end).

            Only resources with a `validTime` property that intersects the value of the
            `validTime` parameter are selected.
          required: false
          schema: &ref_294
            oneOf: *ref_0
          style: form
          explode: false
          examples: &ref_295
            instant: *ref_1
            now: *ref_2
            period: *ref_3
            period2: *ref_4
            period3: *ref_5
            period4: *ref_6
            period5: *ref_7
            period6: *ref_8
            latest: *ref_9
        - name: q
          in: query
          description: |-
            Comma separated list of keywords used for full-text search.
            Only resources that have textual fields that contain one of the specified keywords are selected.
            The resource `name` and `description` properties are always searched.
            It is up to the server to decide which other textual fields are searched.
          required: false
          schema: *ref_49
          explode: false
          examples: *ref_50
        - name: limit
          in: query
          description: |-
            This parameter limits the number of items that are presented in the response document.

            Only items that are on the first level of the collection in the response document are counted.
            Nested objects contained within the explicitly requested items shall not be counted.
          required: false
          schema: *ref_51
          style: form
          explode: false
      responses:
        '200':
          description: OK. Successful request
          content: &ref_308
            application/geo+json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                allOf: &ref_253
                  - $schema: http://json-schema.org/draft-07/schema#
                    $id: https://geojson.org/schema/FeatureCollection.json
                    title: GeoJSON FeatureCollection
                    type: object
                    required: &ref_247
                      - type
                      - features
                    properties: &ref_248
                      type:
                        type: string
                        enum:
                          - FeatureCollection
                      features:
                        type: array
                        items:
                          title: GeoJSON Feature
                          type: object
                          required:
                            - type
                            - properties
                            - geometry
                          properties:
                            type:
                              type: string
                              enum:
                                - Feature
                            id:
                              oneOf:
                                - type: number
                                - type: string
                            properties:
                              oneOf:
                                - type: 'null'
                                - type: object
                            geometry:
                              oneOf:
                                - type: 'null'
                                - title: GeoJSON Point
                                  type: object
                                  required:
                                    - type
                                    - coordinates
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - Point
                                    coordinates:
                                      type: array
                                      minItems: 2
                                      items:
                                        type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                                - title: GeoJSON LineString
                                  type: object
                                  required:
                                    - type
                                    - coordinates
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - LineString
                                    coordinates:
                                      type: array
                                      minItems: 2
                                      items:
                                        type: array
                                        minItems: 2
                                        items:
                                          type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                                - title: GeoJSON Polygon
                                  type: object
                                  required:
                                    - type
                                    - coordinates
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - Polygon
                                    coordinates:
                                      type: array
                                      items:
                                        type: array
                                        minItems: 4
                                        items:
                                          type: array
                                          minItems: 2
                                          items:
                                            type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                                - title: GeoJSON MultiPoint
                                  type: object
                                  required:
                                    - type
                                    - coordinates
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - MultiPoint
                                    coordinates:
                                      type: array
                                      items:
                                        type: array
                                        minItems: 2
                                        items:
                                          type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                                - title: GeoJSON MultiLineString
                                  type: object
                                  required:
                                    - type
                                    - coordinates
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - MultiLineString
                                    coordinates:
                                      type: array
                                      items:
                                        type: array
                                        minItems: 2
                                        items:
                                          type: array
                                          minItems: 2
                                          items:
                                            type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                                - title: GeoJSON MultiPolygon
                                  type: object
                                  required:
                                    - type
                                    - coordinates
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - MultiPolygon
                                    coordinates:
                                      type: array
                                      items:
                                        type: array
                                        items:
                                          type: array
                                          minItems: 4
                                          items:
                                            type: array
                                            minItems: 2
                                            items:
                                              type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                                - title: GeoJSON GeometryCollection
                                  type: object
                                  required:
                                    - type
                                    - geometries
                                  properties:
                                    type:
                                      type: string
                                      enum:
                                        - GeometryCollection
                                    geometries:
                                      type: array
                                      items:
                                        oneOf:
                                          - title: GeoJSON Point
                                            type: object
                                            required:
                                              - type
                                              - coordinates
                                            properties:
                                              type:
                                                type: string
                                                enum:
                                                  - Point
                                              coordinates:
                                                type: array
                                                minItems: 2
                                                items:
                                                  type: number
                                              bbox:
                                                type: array
                                                minItems: 4
                                                items:
                                                  type: number
                                          - title: GeoJSON LineString
                                            type: object
                                            required:
                                              - type
                                              - coordinates
                                            properties:
                                              type:
                                                type: string
                                                enum:
                                                  - LineString
                                              coordinates:
                                                type: array
                                                minItems: 2
                                                items:
                                                  type: array
                                                  minItems: 2
                                                  items:
                                                    type: number
                                              bbox:
                                                type: array
                                                minItems: 4
                                                items:
                                                  type: number
                                          - title: GeoJSON Polygon
                                            type: object
                                            required:
                                              - type
                                              - coordinates
                                            properties:
                                              type:
                                                type: string
                                                enum:
                                                  - Polygon
                                              coordinates:
                                                type: array
                                                items:
                                                  type: array
                                                  minItems: 4
                                                  items:
                                                    type: array
                                                    minItems: 2
                                                    items:
                                                      type: number
                                              bbox:
                                                type: array
                                                minItems: 4
                                                items:
                                                  type: number
                                          - title: GeoJSON MultiPoint
                                            type: object
                                            required:
                                              - type
                                              - coordinates
                                            properties:
                                              type:
                                                type: string
                                                enum:
                                                  - MultiPoint
                                              coordinates:
                                                type: array
                                                items:
                                                  type: array
                                                  minItems: 2
                                                  items:
                                                    type: number
                                              bbox:
                                                type: array
                                                minItems: 4
                                                items:
                                                  type: number
                                          - title: GeoJSON MultiLineString
                                            type: object
                                            required:
                                              - type
                                              - coordinates
                                            properties:
                                              type:
                                                type: string
                                                enum:
                                                  - MultiLineString
                                              coordinates:
                                                type: array
                                                items:
                                                  type: array
                                                  minItems: 2
                                                  items:
                                                    type: array
                                                    minItems: 2
                                                    items:
                                                      type: number
                                              bbox:
                                                type: array
                                                minItems: 4
                                                items:
                                                  type: number
                                          - title: GeoJSON MultiPolygon
                                            type: object
                                            required:
                                              - type
                                              - coordinates
                                            properties:
                                              type:
                                                type: string
                                                enum:
                                                  - MultiPolygon
                                              coordinates:
                                                type: array
                                                items:
                                                  type: array
                                                  items:
                                                    type: array
                                                    minItems: 4
                                                    items:
                                                      type: array
                                                      minItems: 2
                                                      items:
                                                        type: number
                                              bbox:
                                                type: array
                                                minItems: 4
                                                items:
                                                  type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                            bbox:
                              type: array
                              minItems: 4
                              items:
                                type: number
                      bbox:
                        type: array
                        minItems: 4
                        items:
                          type: number
                  - type: object
                    properties:
                      features:
                        $schema: https://json-schema.org/draft/2020-12/schema
                        type: array
                        items: &ref_252
                          title: System Feature
                          $schema: https://json-schema.org/draft/2020-12/schema
                          allOf: &ref_177
                            - $schema: https://json-schema.org/draft/2020-12/schema
                              allOf: &ref_251
                                - $schema: http://json-schema.org/draft-07/schema#
                                  $id: https://geojson.org/schema/Feature.json
                                  title: GeoJSON Feature
                                  type: object
                                  required: &ref_249
                                    - type
                                    - properties
                                    - geometry
                                  properties: &ref_250
                                    type:
                                      type: string
                                      enum:
                                        - Feature
                                    id:
                                      oneOf:
                                        - type: number
                                        - type: string
                                    properties:
                                      oneOf:
                                        - type: 'null'
                                        - type: object
                                    geometry:
                                      oneOf:
                                        - type: 'null'
                                        - title: GeoJSON Point
                                          type: object
                                          required:
                                            - type
                                            - coordinates
                                          properties:
                                            type:
                                              type: string
                                              enum:
                                                - Point
                                            coordinates:
                                              type: array
                                              minItems: 2
                                              items:
                                                type: number
                                            bbox:
                                              type: array
                                              minItems: 4
                                              items:
                                                type: number
                                        - title: GeoJSON LineString
                                          type: object
                                          required:
                                            - type
                                            - coordinates
                                          properties:
                                            type:
                                              type: string
                                              enum:
                                                - LineString
                                            coordinates:
                                              type: array
                                              minItems: 2
                                              items:
                                                type: array
                                                minItems: 2
                                                items:
                                                  type: number
                                            bbox:
                                              type: array
                                              minItems: 4
                                              items:
                                                type: number
                                        - title: GeoJSON Polygon
                                          type: object
                                          required:
                                            - type
                                            - coordinates
                                          properties:
                                            type:
                                              type: string
                                              enum:
                                                - Polygon
                                            coordinates:
                                              type: array
                                              items:
                                                type: array
                                                minItems: 4
                                                items:
                                                  type: array
                                                  minItems: 2
                                                  items:
                                                    type: number
                                            bbox:
                                              type: array
                                              minItems: 4
                                              items:
                                                type: number
                                        - title: GeoJSON MultiPoint
                                          type: object
                                          required:
                                            - type
                                            - coordinates
                                          properties:
                                            type:
                                              type: string
                                              enum:
                                                - MultiPoint
                                            coordinates:
                                              type: array
                                              items:
                                                type: array
                                                minItems: 2
                                                items:
                                                  type: number
                                            bbox:
                                              type: array
                                              minItems: 4
                                              items:
                                                type: number
                                        - title: GeoJSON MultiLineString
                                          type: object
                                          required:
                                            - type
                                            - coordinates
                                          properties:
                                            type:
                                              type: string
                                              enum:
                                                - MultiLineString
                                            coordinates:
                                              type: array
                                              items:
                                                type: array
                                                minItems: 2
                                                items:
                                                  type: array
                                                  minItems: 2
                                                  items:
                                                    type: number
                                            bbox:
                                              type: array
                                              minItems: 4
                                              items:
                                                type: number
                                        - title: GeoJSON MultiPolygon
                                          type: object
                                          required:
                                            - type
                                            - coordinates
                                          properties:
                                            type:
                                              type: string
                                              enum:
                                                - MultiPolygon
                                            coordinates:
                                              type: array
                                              items:
                                                type: array
                                                items:
                                                  type: array
                                                  minItems: 4
                                                  items:
                                                    type: array
                                                    minItems: 2
                                                    items:
                                                      type: number
                                            bbox:
                                              type: array
                                              minItems: 4
                                              items:
                                                type: number
                                        - title: GeoJSON GeometryCollection
                                          type: object
                                          required:
                                            - type
                                            - geometries
                                          properties:
                                            type:
                                              type: string
                                              enum:
                                                - GeometryCollection
                                            geometries:
                                              type: array
                                              items:
                                                oneOf:
                                                  - title: GeoJSON Point
                                                    type: object
                                                    required:
                                                      - type
                                                      - coordinates
                                                    properties:
                                                      type:
                                                        type: string
                                                        enum:
                                                          - Point
                                                      coordinates:
                                                        type: array
                                                        minItems: 2
                                                        items:
                                                          type: number
                                                      bbox:
                                                        type: array
                                                        minItems: 4
                                                        items:
                                                          type: number
                                                  - title: GeoJSON LineString
                                                    type: object
                                                    required:
                                                      - type
                                                      - coordinates
                                                    properties:
                                                      type:
                                                        type: string
                                                        enum:
                                                          - LineString
                                                      coordinates:
                                                        type: array
                                                        minItems: 2
                                                        items:
                                                          type: array
                                                          minItems: 2
                                                          items:
                                                            type: number
                                                      bbox:
                                                        type: array
                                                        minItems: 4
                                                        items:
                                                          type: number
                                                  - title: GeoJSON Polygon
                                                    type: object
                                                    required:
                                                      - type
                                                      - coordinates
                                                    properties:
                                                      type:
                                                        type: string
                                                        enum:
                                                          - Polygon
                                                      coordinates:
                                                        type: array
                                                        items:
                                                          type: array
                                                          minItems: 4
                                                          items:
                                                            type: array
                                                            minItems: 2
                                                            items:
                                                              type: number
                                                      bbox:
                                                        type: array
                                                        minItems: 4
                                                        items:
                                                          type: number
                                                  - title: GeoJSON MultiPoint
                                                    type: object
                                                    required:
                                                      - type
                                                      - coordinates
                                                    properties:
                                                      type:
                                                        type: string
                                                        enum:
                                                          - MultiPoint
                                                      coordinates:
                                                        type: array
                                                        items:
                                                          type: array
                                                          minItems: 2
                                                          items:
                                                            type: number
                                                      bbox:
                                                        type: array
                                                        minItems: 4
                                                        items:
                                                          type: number
                                                  - title: GeoJSON MultiLineString
                                                    type: object
                                                    required:
                                                      - type
                                                      - coordinates
                                                    properties:
                                                      type:
                                                        type: string
                                                        enum:
                                                          - MultiLineString
                                                      coordinates:
                                                        type: array
                                                        items:
                                                          type: array
                                                          minItems: 2
                                                          items:
                                                            type: array
                                                            minItems: 2
                                                            items:
                                                              type: number
                                                      bbox:
                                                        type: array
                                                        minItems: 4
                                                        items:
                                                          type: number
                                                  - title: GeoJSON MultiPolygon
                                                    type: object
                                                    required:
                                                      - type
                                                      - coordinates
                                                    properties:
                                                      type:
                                                        type: string
                                                        enum:
                                                          - MultiPolygon
                                                      coordinates:
                                                        type: array
                                                        items:
                                                          type: array
                                                          items:
                                                            type: array
                                                            minItems: 4
                                                            items:
                                                              type: array
                                                              minItems: 2
                                                              items:
                                                                type: number
                                                      bbox:
                                                        type: array
                                                        minItems: 4
                                                        items:
                                                          type: number
                                            bbox:
                                              type: array
                                              minItems: 4
                                              items:
                                                type: number
                                    bbox:
                                      type: array
                                      minItems: 4
                                      items:
                                        type: number
                                - type: object
                                  properties:
                                    id:
                                      description: Local ID of the feature (ignored on create or update)
                                      minLength: 1
                                    geometry:
                                      description: Geometry of the feature
                                    bbox:
                                      description: Optional bounding box for the feature
                                    properties:
                                      description: Feature properties
                                      type: object
                                      required:
                                        - featureType
                                        - uid
                                        - name
                                      properties:
                                        featureType:
                                          description: Identifier of the type of feature, either a URI, a CURIE, or a simple token
                                          type: string
                                        uid:
                                          description: Globally unique identifier of the feature
                                          type: string
                                          format: uri
                                          example: urn:x-org:namespace:id
                                        name:
                                          description: Human readable name of the feature
                                          type: string
                                          minLength: 1
                                        description:
                                          description: Human readable description of the feature
                                          type: string
                                          minLength: 1
                                    links:
                                      description: Links to related resources
                                      $schema: https://json-schema.org/draft/2020-12/schema
                                      title: Link Collection
                                      type: array
                                      minItems: 1
                                      items: *ref_44
                            - properties:
                                properties:
                                  properties:
                                    featureType:
                                      type: string
                                      enum: &ref_176
                                        - http://www.w3.org/ns/sosa/Sensor
                                        - http://www.w3.org/ns/sosa/Actuator
                                        - http://www.w3.org/ns/sosa/Platform
                                        - http://www.w3.org/ns/sosa/Sampler
                                        - http://www.w3.org/ns/sosa/System
                                        - sosa:Sensor
                                        - sosa:Actuator
                                        - sosa:Platform
                                        - sosa:Sampler
                                        - sosa:System
                                    assetType:
                                      description: Type of asset represented by this system.
                                      type: string
                                      enum:
                                        - Equipment
                                        - Human
                                        - LivingThing
                                        - Simulation
                                        - Process
                                        - Group
                                        - Other
                                    validTime:
                                      description: Time period during which the system description is valid.
                                      $schema: https://json-schema.org/draft/2020-12/schema
                                      title: Time Period
                                      type: array
                                      minItems: 2
                                      maxItems: 2
                                      items: *ref_13
                                    systemKind@link:
                                      description: Link to the system kind description (i.e., its nature or specifications).
                                      $schema: https://json-schema.org/draft/2020-12/schema
                                      title: Link
                                      type: object
                                      required: *ref_11
                                      properties: *ref_12
                      links:
                        description: Links to related resources (including paging)
                        $schema: https://json-schema.org/draft/2020-12/schema
                        title: Link Collection
                        type: array
                        minItems: 1
                        items: *ref_44
            application/sml+json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                type: object
                properties: &ref_282
                  items:
                    $schema: https://json-schema.org/draft/2020-12/schema
                    type: array
                    items: &ref_281
                      title: System Feature
                      $schema: https://json-schema.org/draft/2020-12/schema
                      allOf: &ref_178
                        - oneOf:
                            - $schema: https://json-schema.org/draft/2020-12/schema
                              type: object
                              allOf: &ref_154
                                - $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  allOf: &ref_152
                                    - $schema: https://json-schema.org/draft/2020-12/schema
                                      type: object
                                      properties: &ref_143
                                        type:
                                          description: Type of object
                                          type: string
                                        id:
                                          description: Local ID of the feature (e.g., locally unique on a server)
                                          type: string
                                          minLength: 1
                                        description:
                                          description: A textual description of the feature
                                          type: string
                                          minLength: 1
                                        uniqueId:
                                          description: URI serving as the globally unique identifier of the feature (typically a URN)
                                          type: string
                                          format: uri
                                        label:
                                          description: A human readable label for the feature
                                          type: string
                                          minLength: 1
                                        lang:
                                          description: Language of this document
                                          type: string
                                        keywords:
                                          description: Short keywords describing the context of this document to aid in discovery.
                                          type: array
                                          items:
                                            type: string
                                            minLength: 1
                                        identifiers:
                                          description: Additional identifiers for the asset, useful for discovery (e.g., short name, mission id, model number, serial number, etc.).
                                          type: array
                                          items:
                                            type: object
                                            properties: *ref_115
                                            required: *ref_116
                                            unevaluatedProperties: false
                                        classifiers:
                                          description: Classifiers for the asset, useful for discovery (e.g., process type, sensor type, intended application, etc.).
                                          type: array
                                          items:
                                            type: object
                                            properties: *ref_115
                                            required: *ref_116
                                            unevaluatedProperties: false
                                        validTime:
                                          $schema: https://json-schema.org/draft/2020-12/schema
                                          title: Time Period
                                          type: array
                                          minItems: 2
                                          maxItems: 2
                                          items: *ref_13
                                        securityConstraints:
                                          description: Overall security tagging of process description; Individual tagging of properties can be done using extension properties.
                                          type: array
                                          items:
                                            type: object
                                            properties:
                                              type:
                                                type: string
                                                format: uri
                                            required:
                                              - type
                                            additionalProperties: true
                                        legalConstraints:
                                          description: Legal constraints applied to this description (e.g., copyrights, legal use, etc.)
                                          type: array
                                          items:
                                            $schema: https://json-schema.org/draft/2020-12/schema
                                            type: object
                                            properties: &ref_257
                                              useLimitations:
                                                type: array
                                                items:
                                                  type: string
                                              accessConstraints:
                                                type: array
                                                items:
                                                  type: object
                                                  properties: &ref_130
                                                    codeSpace:
                                                      type: string
                                                      format: uri
                                                    value:
                                                      type: string
                                                  additionalProperties: false
                                              useConstraints:
                                                type: array
                                                items:
                                                  type: object
                                                  properties: *ref_130
                                                  additionalProperties: false
                                              otherConstraints:
                                                type: array
                                                items:
                                                  type: string
                                            $defs: &ref_258
                                              CodeListValue: &ref_256
                                                type: object
                                                properties: *ref_130
                                                additionalProperties: false
                                        characteristics:
                                          description: Groups of characteristics applicable to this asset under various conditions
                                          type: array
                                          items:
                                            allOf: &ref_139
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                description: Base substitution groups for all SWE Common objects with identification metadata
                                                type: object
                                                allOf: *ref_114
                                              - type: object
                                                properties:
                                                  definition:
                                                    description: Semantic link to the definition of this group of capabilities
                                                    type: string
                                                    format: uri
                                                  conditions:
                                                    description: The conditions under which the characteristics apply
                                                    type: array
                                                    items:
                                                      oneOf: *ref_120
                                                  characteristics:
                                                    description: The list of characteristics in this group
                                                    type: array
                                                    items:
                                                      oneOf: *ref_131
                                                required:
                                                  - characteristics
                                            unevaluatedProperties: false
                                        capabilities:
                                          description: Groups of capabilities applicable to this asset under various conditions
                                          type: array
                                          items:
                                            allOf: &ref_140
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                description: Base substitution groups for all SWE Common objects with identification metadata
                                                type: object
                                                allOf: *ref_114
                                              - description: A group of capabilities.
                                                type: object
                                                properties:
                                                  definition:
                                                    description: Semantic link to the definition of this group of capabilities
                                                    type: string
                                                    format: uri
                                                  conditions:
                                                    description: The conditions under which the capabilities apply
                                                    type: array
                                                    items:
                                                      oneOf: *ref_120
                                                  capabilities:
                                                    description: The list of capabilities in this group
                                                    type: array
                                                    items:
                                                      oneOf: *ref_131
                                                required:
                                                  - capabilities
                                            unevaluatedProperties: false
                                        contacts:
                                          description: The list of contacts related to this asset
                                          type: array
                                          items:
                                            oneOf:
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                type: object
                                                properties: *ref_132
                                                unevaluatedProperties: false
                                                required: *ref_133
                                                oneOf: *ref_134
                                                $defs: *ref_135
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                type: object
                                                properties: &ref_261
                                                  role:
                                                    description: Role of the contact
                                                    type: string
                                                    format: uri
                                                  name:
                                                    description: Name of the contact
                                                    type: string
                                                  link:
                                                    description: Link to complete contact information
                                                    $schema: https://json-schema.org/draft/2020-12/schema
                                                    title: Link
                                                    type: object
                                                    required: *ref_11
                                                    properties: *ref_12
                                                unevaluatedProperties: false
                                                required: &ref_262
                                                  - name
                                                  - link
                                        documents:
                                          description: Additional documentation about the asset
                                          type: array
                                          items:
                                            $schema: https://json-schema.org/draft/2020-12/schema
                                            type: object
                                            properties: *ref_136
                                            unevaluatedProperties: false
                                            required: *ref_137
                                        history:
                                          description: The list of events related to this asset
                                          type: array
                                          items:
                                            $schema: https://json-schema.org/draft/2020-12/schema
                                            description: A time tagged event with description and relevant property values.
                                            type: object
                                            allOf: *ref_138
                                      required: &ref_144
                                        - type
                                        - label
                                        - uniqueId
                                      $defs: &ref_145
                                        CharacteristicList: &ref_259
                                          allOf: *ref_139
                                          unevaluatedProperties: false
                                        CapabilityList: &ref_260
                                          allOf: *ref_140
                                          unevaluatedProperties: false
                                    - properties:
                                        definition:
                                          description: The type of process or system as a reference to a concept in an online ontology or dictionary. The value of the property must be a resolvable URI.
                                          type: string
                                          format: uri
                                        typeOf:
                                          description: A reference to a base process from which this process inherits properties and constraints (e.g., original equipment manufacturer's model description, generic equation, etc.).
                                          $schema: https://json-schema.org/draft/2020-12/schema
                                          title: Link
                                          type: object
                                          required: *ref_11
                                          properties: *ref_12
                                        configuration:
                                          description: Value settings that further constrain the properties of the base process.
                                          $schema: https://json-schema.org/draft/2020-12/schema
                                          type: object
                                          properties: *ref_141
                                        featuresOfInterest:
                                          description: A collection of sampling features or domain features relevant to the process (e.g., the Gulf of Mexico, the White House, the Atmosphere, a vehicle, etc.).
                                          type: array
                                          minItems: 1
                                          items: &ref_146
                                            $schema: https://json-schema.org/draft/2020-12/schema
                                            title: Link
                                            description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
                                            type: object
                                            required: *ref_11
                                            properties: *ref_12
                                        inputs:
                                          description: The list of process or system inputs.
                                          type: array
                                          minItems: 1
                                          items: &ref_147
                                            oneOf: &ref_142
                                              - title: DataComponent
                                                allOf:
                                                  - type: object
                                                    properties: *ref_29
                                                    required: *ref_30
                                                  - oneOf: *ref_36
                                              - title: ObservableProperty
                                                allOf:
                                                  - type: object
                                                    properties: *ref_29
                                                    required: *ref_30
                                                  - description: A physical property that can be observed and possibly measured (e.g., temperature, color, position). An ObservableProperty has unambiguous definition, but does not have units of measure.
                                                    type: object
                                                    allOf: &ref_254
                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                        description: Base substitution groups for all SWE Common objects with identification metadata
                                                        type: object
                                                        allOf: *ref_114
                                                      - properties:
                                                          type:
                                                            const: ObservableProperty
                                                          definition:
                                                            type: string
                                                            format: uri
                                                        required:
                                                          - type
                                                          - definition
                                        outputs:
                                          description: The list of process or system outputs.
                                          type: array
                                          minItems: 1
                                          items: &ref_148
                                            oneOf: *ref_142
                                        parameters:
                                          description: The list of process or system parameters.
                                          type: array
                                          minItems: 1
                                          items: &ref_149
                                            oneOf: *ref_142
                                        modes:
                                          description: A collection of parameters that can be set at once through the selection of a particular predefined mode.
                                          type: array
                                          items:
                                            $schema: https://json-schema.org/draft/2020-12/schema
                                            type: object
                                            allOf: &ref_150
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                type: object
                                                properties: *ref_143
                                                required: *ref_144
                                                $defs: *ref_145
                                              - properties:
                                                  configuration:
                                                    description: Value settings that further constrain the properties of the base process in this mode.
                                                    $schema: https://json-schema.org/draft/2020-12/schema
                                                    type: object
                                                    properties: *ref_141
                                  $defs: &ref_153
                                    FeatureList: &ref_263
                                      type: array
                                      minItems: 1
                                      items: *ref_146
                                    InputList: &ref_264
                                      type: array
                                      minItems: 1
                                      items: *ref_147
                                    OutputList: &ref_265
                                      type: array
                                      minItems: 1
                                      items: *ref_148
                                    ParameterList: &ref_266
                                      type: array
                                      minItems: 1
                                      items: *ref_149
                                    ModeChoice:
                                      type: object
                                      properties:
                                        modes:
                                          type: array
                                          minItems: 1
                                          items:
                                            $schema: https://json-schema.org/draft/2020-12/schema
                                            type: object
                                            allOf: *ref_150
                                    IOComponentChoice: &ref_255
                                      oneOf: *ref_142
                                - properties:
                                    type:
                                      const: SimpleProcess
                                    method:
                                      type: object
                                      properties: &ref_151
                                        algorithm:
                                          title: A description of the algorithm using a machine readable language, either inline or by reference
                                        description:
                                          title: A description of the method in natural language
                                          type: string
                              $defs: &ref_155
                                ProcessMethod: &ref_267
                                  type: object
                                  properties: *ref_151
                            - $schema: https://json-schema.org/draft/2020-12/schema
                              type: object
                              allOf: &ref_156
                                - $schema: https://json-schema.org/draft/2020-12/schema
                                  type: object
                                  allOf: *ref_152
                                  $defs: *ref_153
                                - properties:
                                    type:
                                      const: AggregateProcess
                                    components:
                                      description: The list of sub-processes
                                      type: array
                                      minItems: 1
                                      items: &ref_157
                                        allOf:
                                          - type: object
                                            properties: *ref_29
                                            required: *ref_30
                                          - oneOf:
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                type: object
                                                allOf: *ref_154
                                                $defs: *ref_155
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                type: object
                                                allOf: *ref_156
                                                $defs: &ref_173
                                                  ComponentList: &ref_279
                                                    type: array
                                                    minItems: 1
                                                    items: *ref_157
                                                  ConnectionList: &ref_280
                                                    type: array
                                                    minItems: 1
                                                    items: &ref_172
                                                      type: object
                                                      properties:
                                                        source:
                                                          type: string
                                                          pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
                                                        destination:
                                                          type: string
                                                          pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
                                                      required:
                                                        - source
                                                        - destination
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                type: object
                                                allOf: &ref_174
                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                    type: object
                                                    allOf: &ref_170
                                                      - $schema: https://json-schema.org/draft/2020-12/schema
                                                        type: object
                                                        allOf: *ref_152
                                                        $defs: *ref_153
                                                      - properties:
                                                          attachedTo:
                                                            description: References the physical component or system (e.g., platform) to which to which this component or system is attached.
                                                            $schema: https://json-schema.org/draft/2020-12/schema
                                                            title: Link
                                                            type: object
                                                            required: *ref_11
                                                            properties: *ref_12
                                                          localReferenceFrames:
                                                            description: A list of spatial reference frames, attached to the physical component itself.
                                                            type: array
                                                            items:
                                                              description: A general spatial Cartesian Reference Frame where the axes and origin will be defined textually relative to a physical component.
                                                              type: object
                                                              allOf: &ref_167
                                                                - $schema: https://json-schema.org/draft/2020-12/schema
                                                                  description: Base substitution groups for all SWE Common objects with identification metadata
                                                                  type: object
                                                                  allOf: *ref_114
                                                                - properties:
                                                                    origin:
                                                                      description: A textual description of the origin of the reference frame relative to the physical device (e.g., "the origin is at the point of attachment of the sensor to the platform").
                                                                      type: string
                                                                    axes:
                                                                      description: Axis with name attribute and a textual description of the relationship of the axis to the physical device; the order of the axes listed determines their relationship according to the right-handed rule (e.g., axis 1 cross axis 2 = axis 3).
                                                                      type: array
                                                                      items:
                                                                        type: object
                                                                        properties:
                                                                          name:
                                                                            type: string
                                                                          description:
                                                                            type: string
                                                                        required:
                                                                          - name
                                                                          - description
                                                                  required:
                                                                    - origin
                                                                    - axes
                                                              unevaluatedProperties: false
                                                          localTimeFrames:
                                                            description: Supports local time reference frames such as "time past mission start". Note that units are handled in timePosition so they are not specified in the TemporalFrame.
                                                            type: array
                                                            items:
                                                              description: A general temporal frame such as a mission start time or timer start time. The origin should just describe context of the start of time (e.g., start of local timer).
                                                              type: object
                                                              allOf: &ref_168
                                                                - $schema: https://json-schema.org/draft/2020-12/schema
                                                                  description: Base substitution groups for all SWE Common objects with identification metadata
                                                                  type: object
                                                                  allOf: *ref_114
                                                                - properties:
                                                                    origin:
                                                                      type: string
                                                                  required:
                                                                    - origin
                                                              unevaluatedProperties: false
                                                          position:
                                                            description: Provides positional information relating the component's spatial reference frame to an external spatial reference frame.
                                                            oneOf: &ref_169
                                                              - title: by Text
                                                                description: A textual description of where the system is located (e.g., a building name, a room number, etc.)
                                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                                type: object
                                                                allOf: *ref_158
                                                              - title: by Point
                                                                $schema: http://json-schema.org/draft-07/schema#
                                                                $id: https://geojson.org/schema/Point.json
                                                                type: object
                                                                required: &ref_268
                                                                  - type
                                                                  - coordinates
                                                                properties: &ref_269
                                                                  type:
                                                                    type: string
                                                                    enum:
                                                                      - Point
                                                                  coordinates:
                                                                    type: array
                                                                    minItems: 2
                                                                    items:
                                                                      type: number
                                                                  bbox:
                                                                    type: array
                                                                    minItems: 4
                                                                    items:
                                                                      type: number
                                                              - title: by Pose
                                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: A Pose object that can be either a GeoPose Basic instance of a relative pose.
                                                                oneOf: &ref_274
                                                                  - type: object
                                                                    title: GeoPose YPR
                                                                    description: 'Basic-YPR: Basic GeoPose using yaw, pitch, and roll to specify orientation'
                                                                    properties:
                                                                      type:
                                                                        const: GeoPose
                                                                      ltpReferenceFrame:
                                                                        type: string
                                                                        format: uri
                                                                      position:
                                                                        description: Geographic position in EPSG:4979 CRS (WGS84)
                                                                        properties: &ref_159
                                                                          lat:
                                                                            type: number
                                                                          lon:
                                                                            type: number
                                                                          h:
                                                                            type: number
                                                                        required: &ref_160
                                                                          - lat
                                                                          - lon
                                                                          - h
                                                                      angles:
                                                                        description: Euler angles, with yaw, pitch and roll rotations about the local (rotated) axes Z, Y, and X respectively, applied in that order
                                                                        properties: &ref_161
                                                                          yaw:
                                                                            description: Yaw angle about Z axis, in degrees
                                                                            type: number
                                                                          pitch:
                                                                            description: Pitch angle about Y axis, in degrees
                                                                            type: number
                                                                          roll:
                                                                            description: Roll angle about X axis, in degrees
                                                                            type: number
                                                                        required: &ref_162
                                                                          - yaw
                                                                          - pitch
                                                                          - roll
                                                                    required:
                                                                      - type
                                                                      - position
                                                                      - angles
                                                                  - type: object
                                                                    title: GeoPose Quaternion
                                                                    description: 'Basic-Quaternion: Basic GeoPose using quaternion to specify orientation'
                                                                    properties:
                                                                      type:
                                                                        const: GeoPose
                                                                      ltpReferenceFrame:
                                                                        type: string
                                                                        format: uri
                                                                      position:
                                                                        description: Geographic position in EPSG:4979 CRS (WGS84)
                                                                        properties: *ref_159
                                                                        required: *ref_160
                                                                      quaternion:
                                                                        description: Quaternion orientation expressed in the specified reference frame
                                                                        properties: &ref_165
                                                                          x:
                                                                            type: number
                                                                          'y':
                                                                            type: number
                                                                          z:
                                                                            type: number
                                                                          w:
                                                                            type: number
                                                                        required: &ref_166
                                                                          - x
                                                                          - 'y'
                                                                          - z
                                                                          - w
                                                                    required:
                                                                      - type
                                                                      - position
                                                                      - quaternion
                                                                  - type: object
                                                                    title: Relative Pose YPR
                                                                    description: 'Relative-YPR: Relative pose using yaw, pitch, and roll to specify orientation'
                                                                    properties:
                                                                      type:
                                                                        const: RelativePose
                                                                      referenceFrame:
                                                                        type: string
                                                                        format: uri
                                                                      position:
                                                                        description: Cartesian position expressed in the specified reference frame
                                                                        properties: &ref_163
                                                                          x:
                                                                            description: Distance along the X axis, in meters
                                                                            type: number
                                                                          'y':
                                                                            description: Distance along the Y axis, in meters
                                                                            type: number
                                                                          z:
                                                                            description: Distance along the Z axis, in meters
                                                                            type: number
                                                                        required: &ref_164
                                                                          - x
                                                                          - 'y'
                                                                          - z
                                                                      angles:
                                                                        description: Euler angles, with yaw, pitch and roll rotations about the local (rotated) axes Z, Y, and X respectively, applied in that order
                                                                        properties: *ref_161
                                                                        required: *ref_162
                                                                    required:
                                                                      - type
                                                                      - referenceFrame
                                                                      - position
                                                                      - angles
                                                                  - type: object
                                                                    title: Relative Pose Quaternion
                                                                    description: 'Relative-Quaternion: Relative pose using quaternion to specify orientation'
                                                                    properties:
                                                                      type:
                                                                        const: RelativePose
                                                                      referenceFrame:
                                                                        type: string
                                                                        format: uri
                                                                      position:
                                                                        description: Cartesian position expressed in the specified reference frame
                                                                        properties: *ref_163
                                                                        required: *ref_164
                                                                      quaternion:
                                                                        description: Quaternion orientation expressed in the specified reference frame
                                                                        properties: *ref_165
                                                                        required: *ref_166
                                                                    required:
                                                                      - type
                                                                      - referenceFrame
                                                                      - position
                                                                      - quaternion
                                                                $defs: &ref_275
                                                                  PositionGeo: &ref_270
                                                                    description: Geographic position in EPSG:4979 CRS (WGS84)
                                                                    properties: *ref_159
                                                                    required: *ref_160
                                                                  PositionXYZ: &ref_273
                                                                    description: Cartesian position expressed in the specified reference frame
                                                                    properties: *ref_163
                                                                    required: *ref_164
                                                                  AnglesYPR: &ref_271
                                                                    description: Euler angles, with yaw, pitch and roll rotations about the local (rotated) axes Z, Y, and X respectively, applied in that order
                                                                    properties: *ref_161
                                                                    required: *ref_162
                                                                  Quaternion: &ref_272
                                                                    description: Quaternion orientation expressed in the specified reference frame
                                                                    properties: *ref_165
                                                                    required: *ref_166
                                                              - title: by Process
                                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                                type: object
                                                                allOf: *ref_152
                                                                $defs: *ref_153
                                                              - title: by Datastream
                                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
                                                                type: object
                                                                required: *ref_11
                                                                properties: *ref_12
                                                              - title: by Location Vector
                                                                deprecated: true
                                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Implementation of a mathematical vector composed of a list of scalar coordinates expressed in the mandatory reference frame.
                                                                type: object
                                                                allOf: *ref_121
                                                              - title: by Position (DataRecord)
                                                                deprecated: true
                                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Implementation of ISO-11404 Record datatype. This allows grouping (sequence) of data components which can themselves be simple types, records, arrays or choices
                                                                type: object
                                                                allOf: *ref_28
                                                              - title: by Trajectory (DataArray)
                                                                deprecated: true
                                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                                description: Implementation of ISO-11404 Array datatype. This defines an array of identical data components with a elementCount. Values are given as a block and can be encoded in different ways
                                                                allOf: *ref_122
                                                                $defs: *ref_123
                                                    $defs: &ref_171
                                                      SpatialFrame: &ref_276
                                                        description: A general spatial Cartesian Reference Frame where the axes and origin will be defined textually relative to a physical component.
                                                        type: object
                                                        allOf: *ref_167
                                                        unevaluatedProperties: false
                                                      TemporalFrame: &ref_277
                                                        description: A general temporal frame such as a mission start time or timer start time. The origin should just describe context of the start of time (e.g., start of local timer).
                                                        type: object
                                                        allOf: *ref_168
                                                        unevaluatedProperties: false
                                                      Position: &ref_278
                                                        oneOf: *ref_169
                                                  - properties:
                                                      type:
                                                        const: PhysicalComponent
                                                      method:
                                                        type: object
                                                        properties: *ref_151
                                              - $schema: https://json-schema.org/draft/2020-12/schema
                                                type: object
                                                allOf: &ref_175
                                                  - $schema: https://json-schema.org/draft/2020-12/schema
                                                    type: object
                                                    allOf: *ref_170
                                                    $defs: *ref_171
                                                  - properties:
                                                      type:
                                                        const: PhysicalSystem
                                                      components:
                                                        description: The list of sub-components
                                                        type: array
                                                        minItems: 1
                                                        items: *ref_157
                                                      connections:
                                                        type: array
                                                        minItems: 1
                                                        items: *ref_172
                                              - properties:
                                                  type:
                                                    const: Link
                                                $schema: https://json-schema.org/draft/2020-12/schema
                                                title: Link
                                                description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
                                                type: object
                                                required: *ref_11
                                    connections:
                                      description: The explicit definition of data links between outputs, inputs, and parameters of the components within an aggregate process.
                                      type: array
                                      minItems: 1
                                      items: *ref_172
                              $defs: *ref_173
                            - $schema: https://json-schema.org/draft/2020-12/schema
                              type: object
                              allOf: *ref_174
                            - $schema: https://json-schema.org/draft/2020-12/schema
                              type: object
                              allOf: *ref_175
                        - properties:
                            definition:
                              type: string
                              enum: *ref_176
                            links:
                              description: Links to related resources
                              $schema: https://json-schema.org/draft/2020-12/schema
                              title: Link Collection
                              type: array
                              minItems: 1
                              items: *ref_44
                          required:
                            - definition
                            - uniqueId
                  links:
                    description: Links to related resources (including paging)
                    $schema: https://json-schema.org/draft/2020-12/schema
                    title: Link Collection
                    type: array
                    minItems: 1
                    items: *ref_44
                required: &ref_283
                  - items
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
  /systems/{systemId}/history/{revId}:
    get:
      summary: Retrieve a system historical description by ID
      description: This will return a specific revision of a system description, given its ID.
      tags:
        - System History
      parameters:
        - name: systemId
          in: path
          description: Local identifier of a System
          required: true
          schema: *ref_81
        - name: revId
          in: path
          description: Local identifier of a historical revision
          required: true
          schema: &ref_179
            type: string
            minLength: 1
      responses:
        '200':
          description: OK. Successful request
          content: &ref_309
            application/geo+json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                allOf: *ref_177
              examples:
                sensor:
                  summary: Sensor - Simple Thermometer
                  value:
                    type: Feature
                    id: '123'
                    geometry: &ref_180
                      type: Point
                      coordinates:
                        - 41.8781
                        - -87.6298
                    properties: &ref_181
                      uid: urn:x-ogc:systems:001
                      name: Outdoor Thermometer 001
                      description: Digital thermometer located on first floor window 1
                      featureType: http://www.w3.org/ns/sosa/Sensor
                      assetType: Equipment
                      systemKind@link:
                        href: https://data.example.org/api/procedures/TP60S?f=json
                        uid: urn:x-myorg:datasheets:ThermoPro:TP60S:v001
                        title: Thermo Pro TP60S
                        type: application/geo+json
                platform:
                  summary: Platform - Unmanned Aerial Vehicle (UAV)
                  value:
                    type: Feature
                    id: PLT412
                    geometry: null
                    properties: &ref_182
                      uid: urn:x-ogc:systems:uav:solo154
                      name: UAV System 412
                      description: 3DR Solo UAV
                      featureType: http://www.w3.org/ns/sosa/Platform
                      systemKind@link:
                        href: https://data.example.org/api/procedures/nrof8qi7wc9a?f=json
                        uid: urn:x-ogc:datasheets:uav:3dr-solo:v1
                        type: application/geo+json
            application/sml+json:
              schema:
                $schema: https://json-schema.org/draft/2020-12/schema
                allOf: *ref_178
              examples:
                sensor:
                  summary: Sensor - Simple Thermometer
                  value:
                    type: PhysicalSystem
                    id: '123'
                    definition: http://www.w3.org/ns/sosa/Sensor
                    uniqueId: urn:x-ogc:systems:001
                    label: Outdoor Thermometer 001
                    description: Digital thermometer located on first floor window 1
                    typeOf: &ref_183
                      href: https://data.example.org/api/procedures/TP60S?f=sml
                      uid: urn:x-myorg:datasheets:ThermoPro:TP60S:v001
                      title: ThermoPro TP60S
                      type: application/sml+json
                    identifiers: &ref_184
                      - definition: http://sensorml.com/ont/swe/property/SerialNumber
                        label: Serial Number
                        value: '0123456879'
                    contacts: &ref_185
                      - role: http://sensorml.com/ont/swe/roles/Operator
                        organisationName: Field Maintenance Corp.
                    position: &ref_186
                      type: Point
                      coordinates:
                        - 41.8781
                        - -87.6298
                platform:
                  summary: Platform - Unmanned Aerial Vehicle (UAV)
                  value:
                    type: PhysicalSystem
                    id: PLT412
                    definition: http://www.w3.org/ns/sosa/Platform
                    uniqueId: urn:x-usaf:systems:aircraft:101
                    label: Global Hawk 101
                    description: Example UAV platform
                    typeOf: &ref_187
                      href: https://data.example.org/api/procedures/ge4pjqq0hq6y?f=json
                      uid: urn:x-ngc:datasheets:uav:RQ-4B
                      type: application/sml+json
                    identifiers: &ref_188
                      - definition: http://sensorml.com/ont/swe/property/SerialNumber
                        label: Serial Number
                        value: '0123456879'
                    contacts: &ref_189
                      - role: http://sensorml.com/ont/swe/property/Operator
                        organisationName: Field Maintenance Corp.
                    localReferenceFrames: &ref_190
                      - label: Platform Frame
                        description: The platform frame is defined as the aircraft principal axes
                        origin: Center of gravity of the aircraft
                        axes:
                          - name: x
                            description: Longitudinal or roll axis, parallel to the fuselage reference line, directed forward
                          - name: 'y'
                            description: Transverse or pitch axis, parallel to the line drawn from wingtip to wingtip, directed to the right of the aircraft when looking forward
                          - name: z
                            description: Vertical or yaw axis, perpendicular to the wings and to the fuselage reference line, directed toward the bottom of the aircraft
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    put:
      summary: Update a system historical description
      description: |-
        This will completely replace a specific revision of a system description.

        The server will reject the update if the `validTime` property of the provided system
        description is different from the original.
      tags:
        - System History
      parameters:
        - name: systemId
          in: path
          description: Local identifier of a System
          required: true
          schema: *ref_81
        - name: revId
          in: path
          description: Local identifier of a historical revision
          required: true
          schema: *ref_179
      requestBody:
        required: true
        content: &ref_314
          application/geo+json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              allOf: *ref_177
            examples:
              sensor:
                summary: Sensor - Simple Thermometer
                value:
                  type: Feature
                  id: '123'
                  geometry: *ref_180
                  properties: *ref_181
              platform:
                summary: Platform - Unmanned Aerial Vehicle (UAV)
                value:
                  type: Feature
                  id: PLT412
                  geometry: null
                  properties: *ref_182
          application/sml+json:
            schema:
              $schema: https://json-schema.org/draft/2020-12/schema
              allOf: *ref_178
            examples:
              sensor:
                summary: Sensor - Simple Thermometer
                value:
                  type: PhysicalSystem
                  id: '123'
                  definition: http://www.w3.org/ns/sosa/Sensor
                  uniqueId: urn:x-ogc:systems:001
                  label: Outdoor Thermometer 001
                  description: Digital thermometer located on first floor window 1
                  typeOf: *ref_183
                  identifiers: *ref_184
                  contacts: *ref_185
                  position: *ref_186
              platform:
                summary: Platform - Unmanned Aerial Vehicle (UAV)
                value:
                  type: PhysicalSystem
                  id: PLT412
                  definition: http://www.w3.org/ns/sosa/Platform
                  uniqueId: urn:x-usaf:systems:aircraft:101
                  label: Global Hawk 101
                  description: Example UAV platform
                  typeOf: *ref_187
                  identifiers: *ref_188
                  contacts: *ref_189
                  localReferenceFrames: *ref_190
      responses:
        '204':
          description: Success. Resource updated.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
    delete:
      summary: Delete a system historical description
      description: This will delete a specific revision of a system description.
      tags:
        - System History
      parameters:
        - name: systemId
          in: path
          description: Local identifier of a System
          required: true
          schema: *ref_81
        - name: revId
          in: path
          description: Local identifier of a historical revision
          required: true
          schema: *ref_179
      responses:
        '204':
          description: Success. Resource deleted.
        '400':
          description: Bad request. Either the query parameters or the content body are invalid.
        '401':
          description: No authentication information was provided.
        '403':
          description: The user doesn't have the necessary permissions to access the resource.
        '404':
          description: No resource was found with the specified URL.
        '409':
          description: The resource cannot be deleted because other resources depend on it.
        5XX:
          description: Unexpected server error. Only retry on 502 and 503.
components:
  schemas:
    idListSchema:
      description: List of resource local IDs or unique identifiers (URIs).
      oneOf: *ref_10
    datetimeSchema:
      oneOf: *ref_0
    timeInstant:
      $schema: https://json-schema.org/draft/2020-12/schema
      title: Time Instant
      type: string
      format: date-time
    timeInstantOrNow:
      $schema: https://json-schema.org/draft/2020-12/schema
      title: Time Instant
      oneOf: *ref_191
    timePeriod:
      $schema: https://json-schema.org/draft/2020-12/schema
      title: Time Period
      type: array
      minItems: 2
      maxItems: 2
      items: *ref_13
    baseStream:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_79
      required: *ref_80
    link:
      $schema: https://json-schema.org/draft/2020-12/schema
      title: Link
      description: Link object following standard Web Linking conventions (see RFC5988 and RFC6690)
      type: object
      required: *ref_11
      properties: *ref_12
    AbstractSWE:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Base substitution groups for all SWE Common objects other than value objects
      type: object
      properties: *ref_37
    AbstractSweIdentifiable:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Base substitution groups for all SWE Common objects with identification metadata
      type: object
      allOf: *ref_114
    AbstractDataComponent:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Abstract base class for all data components
      type: object
      allOf: *ref_14
    NameToken:
      type: string
      minLength: 1
      pattern: ^[A-Za-z][A-Za-z0-9_\-]*$
    SoftNamedProperty:
      type: object
      properties: *ref_29
      required: *ref_30
    AssociationAttributeGroup:
      type: object
      properties: *ref_34
      required: *ref_35
    AbstractSimpleComponent:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_15
    Boolean:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: 'Scalar component used to express truth: True or False, 0 or 1'
      type: object
      allOf: *ref_192
    NumberOrSpecial:
      oneOf: *ref_16
    AllowedValues:
      description: Defines the permitted values for the component as an enumerated list and/or a list of inclusive ranges
      type: object
      properties: *ref_17
      anyOf: *ref_18
    NilValuesInteger:
      type: array
      minItems: 1
      items: *ref_193
    Count:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Scalar component with integer representation used for a discrete counting value
      type: object
      allOf: *ref_31
    UnitReference:
      type: object
      properties: *ref_19
      anyOf: *ref_20
      unevaluatedProperties: false
    NilValuesNumber:
      type: array
      minItems: 1
      items: *ref_24
    Quantity:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Scalar component with decimal representation and a unit of measure used to store value of a continuous quantity
      type: object
      allOf: *ref_32
    DateTimeNumberOrSpecial:
      oneOf: *ref_21
    AllowedTimes:
      description: Defines the permitted values for the component, as a time range or an enumerated list of time values
      type: object
      properties: *ref_25
      anyOf: *ref_26
    NilValuesTime:
      type: array
      minItems: 1
      items: *ref_27
    Time:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Scalar component used to represent a time quantity either as ISO 8601 (e.g., 2004-04-18T12:03:04.6Z) or as a duration relative to a time of reference
      type: object
      allOf: *ref_33
    AllowedTokens:
      description: Defines permitted values for the component, as an enumerated list of tokens or a regular expression pattern
      type: object
      oneOf: *ref_22
    NilValuesText:
      type: array
      minItems: 1
      items: *ref_23
    Category:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Scalar component used to represent a categorical value as a simple token identifying a term in a code space
      type: object
      allOf: *ref_40
    Text:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Free text component used to store comments or any other type of textual statement
      type: object
      allOf: *ref_158
    AnyScalarComponent:
      oneOf: *ref_194
    CountRange:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Integer pair used for specifying a count range
      type: object
      allOf: *ref_195
    QuantityRange:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Decimal pair for specifying a quantity range with a unit of measure
      type: object
      allOf: *ref_196
    TimeRange:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Time value pair for specifying a time range (can be a decimal or ISO 8601)
      type: object
      allOf: *ref_197
    CategoryRange:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Pair of categorical values used to specify a range in an ordinal reference system (specified by the code space)
      type: object
      allOf: *ref_198
    AnySimpleComponent:
      oneOf: *ref_120
    DataRecord:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Implementation of ISO-11404 Record datatype. This allows grouping (sequence) of data components which can themselves be simple types, records, arrays or choices
      type: object
      allOf: *ref_28
    Vector:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Implementation of a mathematical vector composed of a list of scalar coordinates expressed in the mandatory reference frame.
      type: object
      allOf: *ref_121
    ElementCount:
      type: object
      allOf: *ref_199
    AnyComponent:
      oneOf: *ref_36
    AbstractEncoding:
      type: object
      allOf: *ref_38
    Component:
      description: Binary encoding parameters used for encoding a single data component
      type: object
      allOf: *ref_200
    Block:
      description: Binary encoding parameters used to encode a block of values at once. This is used for encrypting or compressing a complete array of values for instance
      type: object
      allOf: *ref_201
    BinaryEncoding:
      description: Parameters of the binary encoding method
      type: object
      allOf: *ref_43
    TextEncoding:
      description: Parameters of the text encoding method
      type: object
      allOf: *ref_42
    XMLEncoding:
      description: Parameters of the XML encoding method
      type: object
      allOf: *ref_202
    JSONEncoding:
      description: Parameters of the JSON encoding method
      type: object
      allOf: *ref_41
    EncodedValues:
      oneOf: *ref_203
    AbstractArray: *ref_204
    DataArray:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Implementation of ISO-11404 Array datatype. This defines an array of identical data components with a elementCount. Values are given as a block and can be encoded in different ways
      allOf: *ref_122
      $defs: *ref_123
    Matrix:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Implementation of ISO-11404 Array datatype. This defines an array of identical data components with a elementCount. Values are given as a block and can be encoded in different ways
      type: object
      allOf: *ref_124
    DataChoice:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: Implementation of a choice of two or more Data Components (also called disjoint union)
      type: object
      allOf: *ref_205
    Geometry:
      $schema: http://json-schema.org/draft-07/schema#
      $id: https://geojson.org/schema/Geometry.json
      title: GeoJSON Geometry
      oneOf: *ref_206
    Geometry-2:
      $schema: https://json-schema.org/draft/2020-12/schema
      title: Geometry
      description: Implementation of ISO-19107 geometry datatype. This allows embedding a geometry in a larger schema
      type: object
      allOf: *ref_207
    observationSchemaJson:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_208
      required: *ref_209
      oneOf: *ref_210
    observationSchemaSwe:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_211
      required: *ref_212
      oneOf: *ref_213
    observationSchemaProtobuf:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_214
      required: *ref_215
    observationSchemaAnyOther:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_216
      required: *ref_217
    observationSchema:
      $schema: https://json-schema.org/draft/2020-12/schema
      oneOf: *ref_57
      required: *ref_58
    links:
      $schema: https://json-schema.org/draft/2020-12/schema
      title: Link Collection
      type: array
      minItems: 1
      items: *ref_44
    dataStream:
      $schema: https://json-schema.org/draft/2020-12/schema
      allOf: *ref_53
      required: *ref_54
    dataStreamCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_218
      required: *ref_219
    observation:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_74
      required: *ref_75
      oneOf: *ref_76
    observationCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_220
      required: *ref_221
    commandSchemaJson:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_222
      required: *ref_223
    commandSchemaSwe:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_224
      required: *ref_225
      oneOf: *ref_226
    commandSchemaProtobuf:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_227
      required: *ref_228
    commandSchemaAnyOther:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_229
      required: *ref_230
    commandSchema:
      $schema: https://json-schema.org/draft/2020-12/schema
      oneOf: *ref_92
      required: *ref_93
    controlStream:
      $schema: https://json-schema.org/draft/2020-12/schema
      allOf: *ref_87
      required: *ref_88
    controlStreamCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_231
      required: *ref_232
    commandStatusCode:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: string
      oneOf: *ref_107
    command:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_103
      required: *ref_104
    commandCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_233
      required: *ref_234
    commandResult:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_110
      required: *ref_111
      oneOf: *ref_112
    commandStatus:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_235
      required: *ref_108
    commandStatusCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_236
      required: *ref_237
    commandResultCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_238
      required: *ref_239
    Term:
      type: object
      properties: *ref_115
      required: *ref_116
      unevaluatedProperties: false
    Phone: *ref_240
    Address: *ref_241
    Contact: *ref_242
    ResponsibleParty:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_132
      unevaluatedProperties: false
      required: *ref_133
      oneOf: *ref_134
      $defs: *ref_135
    Document:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_136
      unevaluatedProperties: false
      required: *ref_137
    TimeInstantOrPeriod:
      oneOf: *ref_243
    AnyProperty:
      oneOf: *ref_131
    PathRef:
      type: string
      pattern: ^(components|inputs|outputs|parameters|modes)/([A-Za-z][A-Za-z0-9_\-]*/)*[A-Za-z][A-Za-z0-9_\-]*$
    AnyConstraint:
      oneOf: *ref_244
    Settings:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_141
    Event:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: A time tagged event with description and relevant property values.
      type: object
      allOf: *ref_138
    systemEvent:
      $schema: https://json-schema.org/draft/2020-12/schema
      allOf: *ref_129
    systemEventCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_245
      required: *ref_246
    FeatureCollection:
      $schema: http://json-schema.org/draft-07/schema#
      $id: https://geojson.org/schema/FeatureCollection.json
      title: GeoJSON FeatureCollection
      type: object
      required: *ref_247
      properties: *ref_248
    Feature:
      $schema: http://json-schema.org/draft-07/schema#
      $id: https://geojson.org/schema/Feature.json
      title: GeoJSON Feature
      type: object
      required: *ref_249
      properties: *ref_250
    feature:
      $schema: https://json-schema.org/draft/2020-12/schema
      allOf: *ref_251
    SystemTypeUris:
      type: string
      enum: *ref_176
    system:
      $schema: https://json-schema.org/draft/2020-12/schema
      allOf: *ref_177
    systemArray:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: array
      items: *ref_252
    systemCollection:
      $schema: https://json-schema.org/draft/2020-12/schema
      allOf: *ref_253
    ObservableProperty:
      description: A physical property that can be observed and possibly measured (e.g., temperature, color, position). An ObservableProperty has unambiguous definition, but does not have units of measure.
      type: object
      allOf: *ref_254
    IOComponentChoice: *ref_255
    CodeListValue: *ref_256
    LegalConstraint:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_257
      $defs: *ref_258
    CharacteristicList: *ref_259
    CapabilityList: *ref_260
    ContactLink:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_261
      unevaluatedProperties: false
      required: *ref_262
    DescribedObject:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_143
      required: *ref_144
      $defs: *ref_145
    Mode:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_150
    FeatureList: *ref_263
    InputList: *ref_264
    OutputList: *ref_265
    ParameterList: *ref_266
    AbstractProcess:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_152
      $defs: *ref_153
    ProcessMethod: *ref_267
    SimpleProcess:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_154
      $defs: *ref_155
    AggregateProcess:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_156
      $defs: *ref_173
    Point:
      $schema: http://json-schema.org/draft-07/schema#
      $id: https://geojson.org/schema/Point.json
      title: GeoJSON Point
      type: object
      required: *ref_268
      properties: *ref_269
    PositionGeo: *ref_270
    AnglesYPR: *ref_271
    Quaternion: *ref_272
    PositionXYZ: *ref_273
    Pose:
      $schema: https://json-schema.org/draft/2020-12/schema
      description: A Pose object that can be either a GeoPose Basic instance of a relative pose.
      oneOf: *ref_274
      $defs: *ref_275
    SpatialFrame: *ref_276
    TemporalFrame: *ref_277
    Position: *ref_278
    AbstractPhysicalProcess:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_170
      $defs: *ref_171
    PhysicalComponent:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_174
    ComponentList: *ref_279
    ConnectionList: *ref_280
    PhysicalSystem:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      allOf: *ref_175
    system-2:
      $schema: https://json-schema.org/draft/2020-12/schema
      allOf: *ref_178
    systemArray-2:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: array
      items: *ref_281
    systemCollection-2:
      $schema: https://json-schema.org/draft/2020-12/schema
      type: object
      properties: *ref_282
      required: *ref_283
  parameters:
    idList:
      name: id
      description: |-
        List of resource local IDs or unique IDs (URI).
        Only resources that have one of the provided identifiers are selected.
      in: query
      required: false
      schema: *ref_68
      explode: false
      examples: *ref_69
    keyword:
      name: q
      in: query
      description: |-
        Comma separated list of keywords used for full-text search.
        Only resources that have textual fields that contain one of the specified keywords are selected.
        The resource `name` and `description` properties are always searched.
        It is up to the server to decide which other textual fields are searched.
      required: false
      schema: *ref_49
      explode: false
      examples: *ref_50
    phenomenonTime:
      name: phenomenonTime
      in: query
      description: |-
        Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
        Intervals may be bounded or half-bounded (double-dots at start or end).

        Only resources with a `phenomenonTime` property that intersects the value of the
        `phenomenonTime` parameter are selected.
      required: false
      schema: *ref_45
      style: form
      explode: false
      examples: *ref_46
    resultTime:
      name: resultTime
      in: query
      description: |-
        Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
        Intervals may be bounded or half-bounded (double-dots at start or end).

        Only resources with a `resultTime` property that intersects the value of the
        `resultTime` parameter are selected.
      required: false
      schema: *ref_47
      style: form
      explode: false
      examples: *ref_48
    systemIdList:
      name: system
      description: |-
        List of system local IDs or unique IDs (URI).
        Only resources that are associated to a System that has one of the provided identifiers are selected.
      in: query
      required: false
      schema: *ref_70
      explode: false
    foiIdList:
      name: foi
      description: |-
        List of feature local IDs or unique IDs (URI).
        Only resources that are associated to a feature of interest that has one of the provided identifiers are selected.
      in: query
      required: false
      schema: *ref_71
      explode: false
    obsPropIdList:
      name: observedProperty
      description: |-
        List of property local IDs or unique IDs (URI).
        Only resources that are associated to an observable property that has one of the provided identifiers are selected.
      in: query
      required: false
      schema: *ref_72
      explode: false
    limit:
      name: limit
      in: query
      description: |-
        This parameter limits the number of items that are presented in the response document.

        Only items that are on the first level of the collection in the response document are counted.
        Nested objects contained within the explicitly requested items shall not be counted.
      required: false
      schema: *ref_51
      style: form
      explode: false
    systemId:
      name: systemId
      in: path
      description: Local identifier of a System
      required: true
      schema: *ref_81
    dataStreamId:
      name: dataStreamId
      in: path
      description: Local identifier of a Datastream
      required: true
      schema: *ref_56
    cascade:
      name: cascade
      in: query
      description: If set to true, dependent resources are also deleted.
      required: false
      schema: *ref_90
    obsFormat:
      name: obsFormat
      in: query
      description: Media type of the desired observation format
      required: true
      schema: *ref_284
    dataStreamIdList:
      name: dataStream
      description: |-
        List of data stream local IDs or unique IDs (URI).
        Only resources that are associated to a data stream that has one of the provided identifiers are selected.
      in: query
      required: false
      schema: *ref_285
      explode: false
    obsId:
      name: obsId
      in: path
      description: Local identifier of an Observation
      required: true
      schema: *ref_286
    issueTime:
      name: issueTime
      in: query
      description: |-
        Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
        Intervals may be bounded or half-bounded (double-dots at start or end).

        Only resources with a `issueTime` property that intersects the value of the
        `issueTime` parameter are selected.
      required: false
      schema: *ref_82
      style: form
      explode: false
      examples: *ref_83
    executionTime:
      name: executionTime
      in: query
      description: |-
        Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
        Intervals may be bounded or half-bounded (double-dots at start or end).

        Only resources with a `executionTime` property that intersects the value of the
        `executionTime` parameter are selected.
      required: false
      schema: *ref_84
      style: form
      explode: false
      examples: *ref_85
    controlPropIdList:
      name: controlledProperty
      description: |-
        List of property local IDs or unique IDs (URI).
        Only resources that are associated to a controllable property that has one of the provided identifiers are selected.
      in: query
      required: false
      schema: *ref_99
      explode: false
    controlStreamId:
      name: controlStreamId
      in: path
      description: Local identifier of a Control Stream
      required: true
      schema: *ref_91
    cmdFormat:
      name: cmdFormat
      in: query
      description: Media type of the desired command format
      required: false
      schema: *ref_287
    statusCodeList:
      name: statusCode
      description: |-
        List of command status codes.
        Only command resources whose current status matches one of the provided status codes are selected.
      in: query
      required: false
      schema: *ref_100
      explode: false
    senderList:
      name: sender
      description: |-
        List of sender IDs.
        Only command resources issued by one of the specified senders are selected.
      in: query
      required: false
      schema: *ref_101
      explode: false
    controlStreamIdList:
      name: controlStream
      description: |-
        List of control stream local IDs or unique IDs (URI).
        Only resources that are associated to a control stream that has one of the provided identifiers are selected.
      in: query
      required: false
      schema: *ref_288
      explode: false
    cmdId:
      name: cmdId
      in: path
      description: Local identifier of a Command
      required: true
      schema: *ref_106
    reportTime:
      name: reportTime
      in: query
      description: |-
        Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
        Intervals may be bounded or half-bounded (double-dots at start or end).

        Only resources with a `reportTime` property that intersects the value of the
        `reportTime` parameter are selected.
      required: false
      schema: *ref_289
      style: form
      explode: false
      examples: *ref_290
    statusId:
      name: statusId
      in: path
      description: Local identifier of a Status Report
      required: true
      schema: *ref_291
    resultId:
      name: resultId
      in: path
      description: Local identifier of a Command Result
      required: true
      schema: *ref_292
    eventTime:
      name: datetime
      in: query
      description: |-
        Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
        Intervals may be bounded or half-bounded (double-dots at start or end).

        Only resources with a `time` property that intersects the value of the
        `datetime` parameter are selected.
      required: false
      schema: *ref_125
      style: form
      explode: false
      examples: *ref_126
    eventTypeList:
      name: eventType
      description: |-
        List of event types.
        Only event resources with a type that matches one of the provided types are selected.
      in: query
      required: false
      schema: *ref_127
      explode: false
    eventId:
      name: eventId
      in: path
      description: Local identifier of a System Event
      required: true
      schema: *ref_293
    validTime:
      name: validTime
      in: query
      description: |-
        Either a date-time or an interval. Date and time expressions adhere to RFC 3339. 
        Intervals may be bounded or half-bounded (double-dots at start or end).

        Only resources with a `validTime` property that intersects the value of the
        `validTime` parameter are selected.
      required: false
      schema: *ref_294
      style: form
      explode: false
      examples: *ref_295
    revId:
      name: revId
      in: path
      description: Local identifier of a historical revision
      required: true
      schema: *ref_179
  responses:
    '201':
      description: Success. New resource created.
      headers: *ref_77
    '400':
      description: Bad request. Either the query parameters or the content body are invalid.
    '401':
      description: No authentication information was provided.
    '403':
      description: The user doesn't have the necessary permissions to access the resource.
    '404':
      description: No resource was found with the specified URL.
    dataStreamCollection:
      description: OK. Successful request
      content: *ref_52
    5XX:
      description: Unexpected server error. Only retry on 502 and 503.
    dataStream:
      description: OK. Successful request
      content: *ref_296
    204_PUT:
      description: Success. Resource updated.
    204_DELETE:
      description: Success. Resource deleted.
    409_DELETE:
      description: The resource cannot be deleted because other resources depend on it.
    observationSchema:
      description: OK. Successful request
      content: *ref_297
    409_PUT:
      description: The resource cannot be updated because it conflicts with the existing resource version.
    observationCollection:
      description: OK. Successful request
      content: *ref_73
    observation:
      description: OK. Successful request
      content: *ref_298
    controlStreamCollection:
      description: OK. Successful request
      content: *ref_86
    controlStream:
      description: OK. Successful request
      content: *ref_299
    commandSchema:
      description: OK. Successful request
      content: *ref_300
    commandCollection:
      description: OK. Successful request
      content: *ref_102
    resourceLinks:
      description: Success. Several new resources created. (Only sent if the payload contained an array of resources).
      content: *ref_301
    command:
      description: OK. Successful request
      content: *ref_302
    commandStatusCollection:
      description: OK. Successful request
      content: *ref_303
    commandStatus:
      description: OK. Successful request
      content: *ref_304
    commandResultCollection:
      description: OK. Successful request
      content: *ref_305
    commandResult:
      description: OK. Successful request
      content: *ref_306
    systemEventCollection:
      description: OK. Successful request
      content: *ref_128
    systemEvent:
      description: OK. Successful request
      content: *ref_307
    systemCollection:
      description: OK. Successful request
      content: *ref_308
    system:
      description: OK. Successful request
      content: *ref_309
  requestBodies:
    dataStream:
      description: A single `DataStream` resource
      content: *ref_55
    observationSchema:
      description: A single `Observation Schema` resource
      content: *ref_310
    observation:
      description: A single `Observation` resource
      content: *ref_78
    controlStream:
      description: A single `ControlStream` resource
      content: *ref_89
    commandSchema:
      description: A single `CommandSchema` resource
      content: *ref_311
    command:
      description: A single `Command` resource
      content: *ref_105
    commandStatus:
      description: A single `CommandStatus` resource
      content: *ref_109
    commandResult:
      description: A single `CommandResult` resource
      content: *ref_113
    systemEventOrArray:
      description: One or more system event resources
      required: true
      content: *ref_312
    systemEvent:
      description: A single `SystemEvent` resource
      content: *ref_313
    system:
      required: true
      content: *ref_314
